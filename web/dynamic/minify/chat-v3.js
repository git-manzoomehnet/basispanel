let userMessage=document.querySelectorAll(".YOU");function copyToClipboard(e){const o=e;navigator.clipboard.writeText(o).then((()=>console.log("copy text"))).catch((e=>console.error("error in copy:",e)))}userMessage.forEach((e=>{let o=e.querySelector(".message").innerHTML;e.querySelector(".CopyText").addEventListener("click",(()=>{console.log(o,"message"),copyToClipboard(o)}))}));let langIcon=document.querySelector(".langC"),langSVG=document.querySelector(".langC svg"),langContent=document.querySelector(".langs-content");if(langIcon.addEventListener("click",(e=>{if(e.stopPropagation(),langContent.classList.toggle("openLang"),langSVG.classList.toggle("rotate"),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .UserDropdown"),o=document.querySelector(".UserProfile-box .Icon ");e.classList.remove("openProf"),o.classList.remove("openProf")}})),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .Icon "),o=document.querySelector(".UserProfile-box .UserDropdown"),t=document.querySelector(".logoOut ");document.querySelector(".UserProfile-box .User").addEventListener("click",(t=>{t.stopPropagation(),o.classList.toggle("openProf"),e.classList.toggle("openProf"),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate")})),t.addEventListener("click",(e=>{e.stopPropagation(),console.log("logoOut"),$bc.setSource("query.flag",!0),$bc.setSource("db.logout",!0),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate")}))}let drops=document.querySelectorAll(".DropDowns .Drop");if(drops.forEach((e=>{e.querySelector(".title-dropdown").addEventListener("click",(o=>{console.log(o.currentTarget),e.querySelector(".dropdown-menu ul li")&&e.classList.toggle("open")}))})),document.addEventListener("click",(e=>{if(console.log("click"),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate"),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .UserDropdown"),o=document.querySelector(".UserProfile-box .Icon ");e.classList.remove("openProf"),o.classList.remove("openProf")}})),document.querySelector(".Popup-container")){let r=document.querySelector(".Popup-container"),n=document.querySelector(".login-button"),c=document.querySelector(".Popup-container .ClosePop"),l=document.querySelector(".Popup-container");r.addEventListener("click",(e=>{e.target==l&&(e.stopPropagation(),console.log("click outside pop"),r.classList.toggle("open"))}));function refreshAndFetch(){let e="http://nljpdiw.undertest.ir/dmntoken-v3.inc?nocache="+(new Date).getTime();fetch(e).then((e=>e.text())).then((e=>{let o=(new DOMParser).parseFromString(e,"text/html").querySelector(".dmntoken").textContent;console.log(o,"tokenValue"),$bc.setSource("db.token",o)})).catch((e=>console.error("خطا در دریافت مقدار:",e)))}n.addEventListener("click",(e=>{$bc.setSource("get.dmntoken",!0),r.classList.toggle("open"),refreshAndFetch(),$bc.setSource("run.token",!0)})),c.addEventListener("click",(e=>{console.log("close pop"),r.classList.toggle("open"),$bc.setSource("run.api",!0),$bc.setSource("get.dmntoken",!1)}))}const lenis=new Lenis({smoothWheel:!0,wheelMultiplier:2});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf),lenis.on("scroll",(e=>{0==e.scroll?document.querySelector("header").classList.remove("bgWhite"):document.querySelector("header").classList.add("bgWhite")}));