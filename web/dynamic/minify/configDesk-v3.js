let langIcon=document.querySelector(".langC"),langSVG=document.querySelector(".langC svg"),langContent=document.querySelector(".langs-content"),langIconFooter=document.querySelector("footer .langC"),langSVGFooter=document.querySelector("footer .langC svg"),langContentFooter=document.querySelector("footer .langs-content");if(langIcon.addEventListener("click",(e=>{if(e.stopPropagation(),langContent.classList.toggle("openLang"),langSVG.classList.toggle("rotate"),langContentFooter.classList.remove("openLang"),langSVGFooter.classList.remove("rotate"),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .UserDropdown"),o=document.querySelector(".UserProfile-box .Icon ");e.classList.remove("openProf"),o.classList.remove("openProf")}})),langIconFooter.addEventListener("click",(e=>{if(e.stopPropagation(),langContentFooter.classList.toggle("openLang"),langSVGFooter.classList.toggle("rotate"),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate"),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .UserDropdown"),o=document.querySelector(".UserProfile-box .Icon ");e.classList.remove("openProf"),o.classList.remove("openProf")}})),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .Icon "),o=document.querySelector(".UserProfile-box .UserDropdown"),t=document.querySelector(".logoOut ");document.querySelector(".UserProfile-box .User").addEventListener("click",(t=>{t.stopPropagation(),o.classList.toggle("openProf"),e.classList.toggle("openProf"),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate"),langContentFooter.classList.remove("openLang"),langSVGFooter.classList.remove("rotate")})),t.addEventListener("click",(e=>{e.stopPropagation(),console.log("logoOut"),$bc.setSource("query.flag",!0),$bc.setSource("db.logout",!0),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate"),langContentFooter.classList.remove("openLang"),langSVGFooter.classList.remove("rotate")}))}if(document.addEventListener("click",(e=>{if(console.log("click"),langContent.classList.remove("openLang"),langSVG.classList.remove("rotate"),langContentFooter.classList.remove("openLang"),langSVGFooter.classList.remove("rotate"),document.querySelector(".UserProfile-box .User ")){let e=document.querySelector(".UserProfile-box .UserDropdown"),o=document.querySelector(".UserProfile-box .Icon ");e.classList.remove("openProf"),o.classList.remove("openProf")}})),document.querySelector(".Popup-container")){let n=document.querySelector(".Popup-container"),r=document.querySelector(".login-button"),s=document.querySelector(".Popup-container .ClosePop"),l=document.querySelector(".Popup-container");n.addEventListener("click",(e=>{e.target==l&&(e.stopPropagation(),console.log("click outside pop"),n.classList.toggle("open"))}));function refreshAndFetch(){let e="http://nljpdiw.undertest.ir/dmntoken-v3.inc?nocache="+(new Date).getTime();fetch(e).then((e=>e.text())).then((e=>{let o=(new DOMParser).parseFromString(e,"text/html").querySelector(".dmntoken").textContent;console.log(o,"tokenValue"),$bc.setSource("db.token",o)})).catch((e=>console.error("خطا در دریافت مقدار:",e)))}r.addEventListener("click",(e=>{$bc.setSource("get.dmntoken",!0),n.classList.toggle("open"),refreshAndFetch(),$bc.setSource("run.token",!0)})),s.addEventListener("click",(e=>{console.log("close pop"),n.classList.toggle("open"),$bc.setSource("run.api",!0),$bc.setSource("get.dmntoken",!1)}))}const lenis=new Lenis({smoothWheel:!0,wheelMultiplier:2});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf),lenis.on("scroll",(e=>{0==e.scroll?document.querySelector("header").classList.remove("bgWhite"):(document.querySelector(".Landing-Basispanel")&&document.querySelector("header").classList.remove("lightHeader"),document.querySelector("header").classList.add("bgWhite"))}));