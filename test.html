<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بیسیس پنل</title>
    <meta name="description" content="بیسیس پنل">
    <meta name="description" content="home">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/charts.css/dist/charts.min.css">
    <link rel="stylesheet" href="[##cms.cms.cdn##]/asset/css/outputDesk-v3.css">
    <script src="https://cdn.basiscore.net/academy.basiscore.com/_js/basiscore-2.38.6.min.js"></script>
    <script src="https://cdn.basiscore.net/basispanel.ir/_js/alasql.min.js"></script>
 </head>

<body>
    <main class="Home-BasisPanel w-full overflow-hidden" dir="rtl">
        <basis core="call" file="header.inc" pageindex="[##cms.cms.pageindex##]" />
        <div class="Bg-gray-sec relative before:content-[''] before:absolute before:left-0 before:top-0
    before:w-full before:h-[20%] before:bg-White before:z-0 bg-bgGray ">
            <section class="section-1  w-full flex flex-col mt-[8em] bg-White">
                <div class="Titles w-full flex flex-col justify-center items-center gap-6">
                    <h1 class="font-IRANSansWeb700 font-bold text-[50px] text-center leading-55 text-blue">
                        راهکارهای یکپارچه نرم افزاری برای <span
                            class="color text-blue2 font-IRANSansWeb700 font-bold text-[50px]">
                            مدیریت
                        </span> کسب و کار
                    </h1>
                    <h2 class="font-IRANSansWeb600 font-semibold text-[21px] text-center text-textGray">
                        بیسیس پنل مجموعه‌ای از ابزارهای یکپارچه ابری است که تمام نیازهای سازمانی شما را پوشش می‌دهد.
                    </h2>
                </div>
                <div class="Banner w-full flex justify-center items-center">
                    <img src="[##cms.cms.cdn##]/images/basispanel-v3.png" alt="basis" title="basis">
                </div>
            </section>
            <section class="section-2 w-full flex flex-col py-[3em]">
                <div class="Purpose-sec w-80p flex mx-auto flex-col mb-[2em]">
                    <div class="purpose-boxes w-full grid grid-cols-7 gap-y-20">
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                     flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                         h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/user-group-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                مدیریت اعضا
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                    flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                        h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/folderShare-v3" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                پوشه اشتراکی
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                   flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                       h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/reports-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                گزارشات
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                  flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                      h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/ticket-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                سیستم تیکتینگ
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                 flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                     h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/gallery-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                گالری تصاویر
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
                flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                    h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/processMaker-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                فرآیندساز
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
               flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                   h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/uploadContent-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                بارگزاری محتوا
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
              flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                  h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/work-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                میزکار
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
             flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                 h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/message-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                دبیرخانه
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
            flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
                h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/managementProj-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                مدیریت پروژه
                            </span>
                        </div>

                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
           flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
               h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/financialSystem-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                سیستم مالی
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
          flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
              h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/crm-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                CRM
                            </span>
                        </div>
                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
          flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
              h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/domailManage-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                مدیریت دامنه
                            </span>
                        </div>

                        <div class="PurposeBox w-full justify-center items-center group/purpose hover:cursor-pointer
         flex flex-col gap-1">
                            <span class="IMG bg-White flex w-[60px] group-hover/purpose:bg-lightBlue duration-200
             h-[60px] py-[.3em] px-[.3em] rounded-5">
                                <img src="images/websiteManage-v3.png" alt="" class="w-full object-cover">
                            </span>
                            <span
                                class="Title flex justify-center font-IRANSansWeb700 font-bold text-center text-black text-base">
                                مدیریت وب‌سایت
                            </span>
                        </div>
                    </div>
                </div>

            </section>
        </div>
        <section class="section-3 w-full flex flex-col mt-[2em]">
            <div class="title w-full flex flex-col gap-3 fadeIN">

                <h4
                    class="font-IRANSansWeb600 font-semibold text-base text-blue3 text-center duration-500 translate-x-100 opacity-0">
                    مزایای بیسیس پنل
                </h4>
                <h3
                    class="font-IRANSansWeb700 font-extrabold text-[28px]  text-textGray text-center duration-500 translate-x-100 opacity-0">
                    بیسیس پنل چطور به کسب و کار من کمک می‌کند؟
                </h3>
            </div>
            <div class="help-Boxes w-80p mx-auto flex flex-col">
                <div class="helpBox w-full gap-5 grid grid-cols-2 mt-7 py-[4em] fadeIN">
                    <div class="rightSec w-full flex flex-col justify-start items-start">
                        <div class="title w-full flex justify-start flex-col items-start gap-1">
                            <span class="spd w-max flex px-[.5em] py-[.4em] bg-lightBlue
                     text-center justify-center items-center rounded-5 text-sm font-IRANSansWeb400 
                     text-text leading-[14px]">
                                مزیت اول
                            </span>
                            <h4
                                class="font-IRANSansWeb600 font-semibold text-2xl leading-[33.6px] text-textGray text-right">
                                تحلیل فروش در یک نگاه؛ موفقیت در یک قدم!
                            </h4>
                        </div>
                        <div class="text w-full flex flex-col mt-7">
                            <p class="font-IRANSansWeb400 font-normal text-[15px] leading-[22.5px] text-gray">
                                من فرهاد، مدیر فروش یک کسب‌وکار متوسط هستم؛ با ماژول CRM در بیسیس پنل می‌توانم
                                پایپ‌لاین‌های مختلف فروش را تعریف کرده و در یک نگاه و کسری از ثانیه، نقاط قوت و ضعف تیم
                                خود را تحلیل کنم. به واسطه این راه‌کار، ما به‌طور مداوم به اهداف تیمی مدنظر خود
                                رسیده‌ایم و تصمیمات کلان سازمانی را بر مبنای داده اخذ کردیم.
                            </p>
                        </div>
                    </div>
                    <div class="leftSec w-full flex">

                        <div class="SalesSec relative before:content-[''] before:absolute before:w-[100px] before:h-full before:bg-White
                  before:right-0 before:top-0 before:z-0
                   w-full flex flex-col"
                            style="background-image: url(/images/CRM_ContactProfile_Customer_Natural-v3.png);">
                            <div class="PopSale relative z-1 w-auto flex flex-col">
                                <div
                                    class="title w-max flex justify-start items-start gap-2 border-b-[1px] berder-blue pb-[.5em] mb-[.5em]">
                                    <span id="counter"
                                        class="percent font-IRANSansWeb900 font-black text-[35px] leading-[45px] text-blue">

                                    </span>
                                    <span
                                        class="text font-IRANSansWeb900 font-black text-[35px] leading-[45px] text-blue">
                                        رشد فروش
                                    </span>
                                </div>
                                <p class="font-IRANSansWeb500 text-lg text-gray1 leading-[25.2px]">
                                    در مقایسه با هفته گذشته
                                </p>
                            </div>
                            <div id="chart" class="relative z-1" dir="ltr">
                                <div id="animations-example-1">
                                    <table
                                        class="charts-css column hide-data show-labels show-primary-axis data-spacing-6">
                                        <caption> Animation Example #1 </caption>
                                        <thead>
                                            <tr>
                                                <th scope="col"> Year </th>
                                                <th scope="col"> Progress </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row"> شکست خورده </th>
                                                <td style="--size: 0.2;">
                                                    <span class="data"> 20 </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th scope="row"> در حال مذاکره </th>
                                                <td style="--size: 0.4;">
                                                    <span class="data"> 40 </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th scope="row"> فروش خارجی </th>
                                                <td style="--size: 0.6;">
                                                    <span class="data"> 60 </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th scope="row"> فروش داخلی </th>
                                                <td style="--size: 0.8;">
                                                    <span class="data"> 80 </span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th scope="row"> فروش بهمن </th>
                                                <td style="--size: 1.0;">
                                                    <span class="data"> 100 </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="helpBox fadeIN group/help item-2 w-full gap-5 grid grid-cols-2 mt-7 py-[4em]">
                    <div class="rightSec group-even/help:order-2 w-full flex flex-col justify-start items-start">
                        <div class="title w-full flex justify-start flex-col items-start gap-1">
                            <span class="spd w-max flex px-[.5em] py-[.4em] bg-lightBlue
                        text-center justify-center items-center rounded-5 text-sm font-IRANSansWeb400 
                        text-text leading-[14px]">
                                مزیت دوم
                            </span>
                            <h4
                                class="font-IRANSansWeb600 font-semibold text-2xl leading-[33.6px] text-textGray text-right">
                                پیش‌بینی چالش‌های کسب‌وکار؛ فتح فرصت‌هـــا برای رشـــــد سازمان
                            </h4>
                        </div>
                        <div class="text w-full flex flex-col mt-7">
                            <p class="font-IRANSansWeb400 font-normal text-[15px] leading-[22.5px] text-gray">
                                من سینا، مدیرعامل یک شرکت در حال رشد هستم؛ داشبورد مدیریتی بیسیس پنل و قابلیت‌های
                                کاربردی آن، نمای جامع و لحظه‌ای مناسبی از تمامی عملیات کسب‌وکار در اختیار من قرار
                                می‌دهد. به کمک این داشبورد می‌توانم تصمیمات استراتژیک سازمان را به شکل آگاهانه اتخاذ
                                کنم، فرصت‌های رشد را شناسایی کرده و چالش‌ها را پیش از تاثیرگذاری آن‌ها بر سودآوری سازمان
                                حل کنم.

                            </p>
                        </div>
                    </div>
                    <div
                        class="leftSec  group-odd/help:justify-end group-odd/help:order-1 w-full relative flex justify-start items-center">
                        <div class="IMG w-auto flex max-w-[370px] max-h-[600px]">
                            <img src="images/psd_blank_smartphone_template 1-v3.png" alt=""
                                class=" w-full object-cover">
                        </div>

                        <div class="IMG-ov  absolute right-0 top-0 z-1 max-w-[445px]
                max-h-[299px] translate-y-[50%] translate-x-[-30%]">
                            <img src="images/ov-v3.png" class=" w-full object-cover">
                        </div>
                    </div>
                </div>

                <div class="helpBox fadeIN group/help item-2 w-full gap-5 grid grid-cols-2 mt-7 py-[4em]">
                    <div class="rightSec group-even/help:order-2 w-full flex flex-col justify-start items-start">
                        <div class="title w-full flex justify-start flex-col items-start gap-1">
                            <span class="spd w-max flex px-[.5em] py-[.4em] bg-lightBlue
                     text-center justify-center items-center rounded-5 text-sm font-IRANSansWeb400 
                     text-text leading-[14px]">
                                مزیت سوم
                            </span>
                            <h4
                                class="font-IRANSansWeb600 font-semibold text-2xl leading-[33.6px] text-textGray text-right">
                                بیسیس پنــل؛ واسطی بـــــرای ورود کسب‌وکار به جهـــــان هوش مصنوعی
                            </h4>
                        </div>
                        <div class="text w-full flex flex-col mt-7">
                            <p class="font-IRANSansWeb400 font-normal text-[15px] leading-[22.5px] text-gray">
                                من شروین، مدیر توسعه کسب‌و‌کار هستم؛ با بیسیس پنل، ما تمام داده‌های کسب و کار خود - از
                                فروش و بازاریابی گرفته تا عملیات و امور مالی - را در یک مرکز هوشمند، قابل‌اکتفا و منسجم،
                                یکپارچه کرده‌ایم. این یکپارچگی نه تنها امروز به ما بینش‌های اجرایی مختلفی می‌دهد، بلکه
                                ما را برای پیاده‌سازی راه‌کارهای هوش مصنوعی در آینده نیز آماده می‌کند. با کمک بیسیس پنل،
                                علاوه بر سازماندهی داده‌ها، کسب‌وکار ما برای تحولات آینده نیز آماده می‌شود.

                            </p>
                        </div>
                    </div>
                    <div
                        class="leftSec group-even/help:order-1  group-odd/help:justify-end w-full relative flex justify-start items-center">
                        <div class="IMG w-auto flex max-w-[370px] max-h-[600px]">
                            <img src="images/Untitled-v3.png" alt="" class=" w-full object-cover">
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <section class="section-4 w-full flex flex-col pb-[3em] mt-[2em] bg-lightBG ">
            <div class="title w-full flex justify-center items-center py-[3em]">
                <h5 class="font-IRANSansWeb700 font-bold text-lg leading-28.17 text-textGray text-center">
                    شرکت‌هایی که به ما اعتماد کردند
                </h5>
            </div>
            <div class="Customers w-80p mx-auto grid grid-cols-6 gap-y-14">
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/edco.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/makesh-v3.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/g-v3.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/dika_logo_hq_edited 1.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/alijenab-v3.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>
                <div class="customer w-full flex justify-center items-center">
                    <div class="IMG max-w-[124px]">
                        <img src="images/remedy-v3.png" alt="" class="w-full h-full object-cover">
                    </div>
                </div>

            </div>
            <div class="Box w-auto flex mt-[5em] flex-col gap-3 justify-center items-center">
                <h5 class="font-IRANSansWeb700 font-bold text-[30px] leading-[67.3px] text-textGray text-center">
                    برای شروع آماده‌اید ؟
                </h5>
                <p class="font-IRANSansWeb700 font-bold text-lg leading-[30.52px] text-textGray text-center">
                    زمان خود را از دست ندهید و درخواست دهید !
                </p>
                <a href=""
                    class="button w-max mt-4 hover:bg-hoverBtnDprimary duration-200 px-[4em] py-[.4em] bg-primary flex justify-center items-center rounded-5">
                    <button type="button " class="w-auto flex justify-center
                 text-White items-center font-IRANSansWeb700 font-normal text-lg leading-[40.17px] rounded-5">
                        درخواست دمو
                    </button>
                </a>
            </div>
        </section>
        <section class="section-5 w-full flex flex-col ">
            <div class="MethodsSec w-80p mx-auto flex flex-col">
                <div class="title w-full flex justify-center items-center py-[2em]">
                    <h5 class="font-IRANSansWeb800 font-extrabold text-[28px] leading-[50px] text-textGray text-center">
                        راهکارهای بیسیس پنل
                    </h5>
                </div>
                <div class="Methods w-full flex flex-col">
                    <div
                        class="tabs mb-[2em] w-full flex justify-between relative before:content-[''] before:w-full before:h-[1px]
            before:border-t-[2px] before:z-0 before:border-mainGray before:absolute before:left-0 before:top-[50%] before:border-dashed">
                        <div data-position="left"
                            class="Tab relative z-1 hover:cursor-pointer
                [&.active]:bg-primary
                 hover:bg-primary group/tab duration-200
                 bg-White py-[.8em] rounded-5 w-max px-[3em] flex justify-center items-center border-text border-[1px]">
                            <p class="font-IRANSansWeb700 group-hover/tab:text-white1 group-[&.active]/tab:text-white1 duration-200
                    font-semibold text-base leading-[27px] text-center text-text">
                                برای کسب‌وکارهای کوچک
                            </p>
                        </div>
                        <div data-position="center"
                            class="Tab relative z-1 hover:cursor-pointer
                [&.active]:bg-primary
                 hover:bg-primary group/tab duration-200
                 bg-White py-[.8em] rounded-5 w-max px-[3em] flex justify-center items-center border-text border-[1px]">
                            <p class="font-IRANSansWeb700 group-hover/tab:text-white1 group-[&.active]/tab:text-white1 duration-200
                    font-semibold text-base leading-[27px] text-center text-text">
                                برای تجارت الکترونیک
                            </p>
                        </div>
                        <div data-position="right"
                            class="Tab relative z-1 hover:cursor-pointer
                [&.active]:bg-primary
                 hover:bg-primary group/tab duration-200
                 bg-White py-[.8em] rounded-5 w-max px-[3em] flex justify-center items-center border-text border-[1px]">
                            <p class="font-IRANSansWeb700 group-hover/tab:text-white1 group-[&.active]/tab:text-white1 duration-200
                    font-semibold text-base leading-[27px] text-center text-text">
                                برای تیم‌های بازاریابی
                            </p>
                        </div>

                    </div>
                    <div class="Tab-Contents relative w-full flex flex-col">
                        <div class="Signs w-full flex justify-between">
                            <span
                                class="sign opacity-0 relative right-0 activeSign [&.activeSign]:opacity-[1] duration-300 w-[21%] flex flex-col justify-center items-center z-0">
                                <span class="circle w-[23px] h-[23px] bg-primary rounded-full"></span>
                                <span class="line w-[2px] h-[45px] bg-primary"></span>
                            </span>
                        </div>
                        <div class="tabContents relative w-full flex rounded-5 h-[421px] mb-[4.5em]">
                            <div class="Tcontent bg-White absolute pointer-events-none opacity-0 duration-300 [&.activeSlide]:opacity-[1]
                    [&.activeSlide]:pointer-events-auto
                     bottom-0 left-0  w-full flex rounded-5 h-[421px] border-[2px] border-bgGray">
                                <div
                                    class="Container gap-[8em] h-[95%] my-auto justify-center items-center w-95p mx-auto grid grid-cols-2">

                                    <div class="RightSec h-full w-full flex justify-start items-center">
                                        <div class="IMG max-w-[560px] min-h-[349px]">
                                            <img src="images/smiling-bartender-with-hot-beverage 1.png" alt=""
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="LeftSec h-full flex-col w-full flex justify-center items-center">
                                        <div
                                            class="Text w-auto my-auto flex justify-start items-start flex-col max-w-[600px] mx-auto">
                                            <p class="font-normal font-NotoSans400 text-[15px] 
                                  leading-[22px] text-gray text-justify">
                                                با بیسیس پنل، تمامی جریان‌های کاری خود را در یک پلتفرم قدرتمند و یکپارچه
                                                مدیریت کنید. این نرم‌افزار سازمانی تمامی ابزارهای ضروری کسب‌وکار شما –
                                                از مدیریت وظایف و تقویم تیمی تا اشتراک‌گذاری اسناد و ارتباطات – را در یک
                                                بستر قابل‌اعتماد و دسترس‌پذیر ادغام می‌کند. بدین ترتیب، از پیچیدگی‌ها و
                                                دغدغه‌های نرم‌افزاری رهایی یافته و همگام با رشد کسب‌وکارتان، مقیاس‌پذیری
                                                بهتری خواهید داشت.

                                            </p>
                                        </div>
                                        <a href=""
                                            class="button mb-[1em] mr-auto mt-auto w-max hover:bg-hoverBtnDprimary duration-200 px-[1.6em] py-[1.1em] bg-primary flex justify-between gap-3 items-center rounded-5">
                                            <button type="button "
                                                class="w-auto flex justify-center
                                   text-White items-center font-IRANSansWeb600 font-semibold text-base leading-[30px] rounded-5">
                                                مطالعه بیشتر
                                            </button>
                                            <svg width="21" height="16" viewBox="0 0 21 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M0.432812 7.3842C0.0422879 7.77472 0.0422878 8.40789 0.432812 8.79841L6.79677 15.1624C7.1873 15.5529 7.82046 15.5529 8.21099 15.1624C8.60151 14.7719 8.60151 14.1387 8.21099 13.7482L2.55413 8.09131L8.21099 2.43445C8.60151 2.04393 8.60151 1.41076 8.21099 1.02024C7.82046 0.629715 7.1873 0.629715 6.79677 1.02024L0.432812 7.3842ZM20.7203 7.09131L1.13992 7.09131L1.13992 9.09131L20.7203 9.09131L20.7203 7.09131Z"
                                                    fill="white" />
                                            </svg>

                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="Tcontent bg-White absolute pointer-events-none opacity-0 duration-300 [&.activeSlide]:opacity-[1]
                      [&.activeSlide]:pointer-events-auto
                       bottom-0 left-0  w-full flex rounded-5 h-[421px] border-[2px] border-bgGray">
                                <div
                                    class="Container gap-[8em] h-[95%] my-auto justify-center items-center w-95p mx-auto grid grid-cols-2">

                                    <div class="RightSec h-full w-full flex justify-start items-center">
                                        <div class="IMG max-w-[560px] min-h-[349px]">
                                            <img src="images/smiling-bartender-with-hot-beverage 1.png" alt=""
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="LeftSec h-full flex-col w-full flex justify-center items-center">
                                        <div
                                            class="Text w-auto my-auto flex justify-start items-start flex-col max-w-[600px] mx-auto">
                                            <p class="font-normal font-NotoSans400 text-[15px] 
                                    leading-[22px] text-gray text-justify">
                                                با بیسیس پنل، تمامی جریان‌های کاری خود را در یک پلتفرم قدرتمند و یکپارچه
                                                مدیریت کنید. این نرم‌افزار سازمانی تمامی ابزارهای ضروری کسب‌وکار شما –
                                                از مدیریت وظایف و تقویم تیمی تا اشتراک‌گذاری اسناد و ارتباطات – را در یک
                                                بستر قابل‌اعتماد و دسترس‌پذیر ادغام می‌کند. بدین ترتیب، از پیچیدگی‌ها و
                                                دغدغه‌های نرم‌افزاری رهایی یافته و همگام با رشد کسب‌وکارتان، مقیاس‌پذیری
                                                بهتری خواهید داشت.

                                            </p>
                                        </div>
                                        <a href=""
                                            class="button mb-[1em] mr-auto mt-auto w-max hover:bg-hoverBtnDprimary duration-200 px-[1.6em] py-[1.1em] bg-primary flex justify-between gap-3 items-center rounded-5">
                                            <button type="button "
                                                class="w-auto flex justify-center
                                     text-White items-center font-IRANSansWeb600 font-semibold text-base leading-[30px] rounded-5">
                                                مطالعه بیشتر
                                            </button>
                                            <svg width="21" height="16" viewBox="0 0 21 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M0.432812 7.3842C0.0422879 7.77472 0.0422878 8.40789 0.432812 8.79841L6.79677 15.1624C7.1873 15.5529 7.82046 15.5529 8.21099 15.1624C8.60151 14.7719 8.60151 14.1387 8.21099 13.7482L2.55413 8.09131L8.21099 2.43445C8.60151 2.04393 8.60151 1.41076 8.21099 1.02024C7.82046 0.629715 7.1873 0.629715 6.79677 1.02024L0.432812 7.3842ZM20.7203 7.09131L1.13992 7.09131L1.13992 9.09131L20.7203 9.09131L20.7203 7.09131Z"
                                                    fill="white" />
                                            </svg>

                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="Tcontent bg-White absolute pointer-events-none opacity-0 duration-300 [&.activeSlide]:opacity-[1]
                        [&.activeSlide]:pointer-events-auto
                         bottom-0 left-0  w-full flex rounded-5 h-[421px] border-[2px] border-bgGray">
                                <div
                                    class="Container gap-[8em] h-[95%] my-auto justify-center items-center w-95p mx-auto grid grid-cols-2">

                                    <div class="RightSec h-full w-full flex justify-start items-center">
                                        <div class="IMG max-w-[560px] min-h-[349px]">
                                            <img src="images/smiling-bartender-with-hot-beverage 1.png" alt=""
                                                class="w-full h-full object-cover">
                                        </div>
                                    </div>
                                    <div class="LeftSec h-full flex-col w-full flex justify-center items-center">
                                        <div
                                            class="Text w-auto my-auto flex justify-start items-start flex-col max-w-[600px] mx-auto">
                                            <p class="font-normal font-NotoSans400 text-[15px] 
                                      leading-[22px] text-gray text-justify">
                                                با بیسیس پنل، تمامی جریان‌های کاری خود را در یک پلتفرم قدرتمند و یکپارچه
                                                مدیریت کنید. این نرم‌افزار سازمانی تمامی ابزارهای ضروری کسب‌وکار شما –
                                                از مدیریت وظایف و تقویم تیمی تا اشتراک‌گذاری اسناد و ارتباطات – را در یک
                                                بستر قابل‌اعتماد و دسترس‌پذیر ادغام می‌کند. بدین ترتیب، از پیچیدگی‌ها و
                                                دغدغه‌های نرم‌افزاری رهایی یافته و همگام با رشد کسب‌وکارتان، مقیاس‌پذیری
                                                بهتری خواهید داشت.

                                            </p>
                                        </div>
                                        <a href=""
                                            class="button mb-[1em] mr-auto mt-auto w-max hover:bg-hoverBtnDprimary duration-200 px-[1.6em] py-[1.1em] bg-primary flex justify-between gap-3 items-center rounded-5">
                                            <button type="button "
                                                class="w-auto flex justify-center
                                     text-White items-center font-IRANSansWeb600 font-semibold text-base leading-[30px] rounded-5">
                                                مطالعه بیشتر
                                            </button>
                                            <svg width="21" height="16" viewBox="0 0 21 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M0.432812 7.3842C0.0422879 7.77472 0.0422878 8.40789 0.432812 8.79841L6.79677 15.1624C7.1873 15.5529 7.82046 15.5529 8.21099 15.1624C8.60151 14.7719 8.60151 14.1387 8.21099 13.7482L2.55413 8.09131L8.21099 2.43445C8.60151 2.04393 8.60151 1.41076 8.21099 1.02024C7.82046 0.629715 7.1873 0.629715 6.79677 1.02024L0.432812 7.3842ZM20.7203 7.09131L1.13992 7.09131L1.13992 9.09131L20.7203 9.09131L20.7203 7.09131Z"
                                                    fill="white" />
                                            </svg>

                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <basis core="call" file="footer.inc" pageindex="[##cms.cms.pageindex##]" />
    </main>
    
    <div class="Popup-container fixed z-[999] opacity-0 group/pop
   duration-500 pointer-events-none [&.open]:opacity-[1] [&.open]:pointer-events-auto
   top-0 left-0 bg-[#0000004D] w-screen h-screen flex justify-center items-center">
        <div class="Login-popup overflow-hidden  group-[&.open]/pop:translate-y-[0] group-[&.open]/pop:opacity-[1]
    delay-100 translate-y-100 duration-500 opacity-0
   rounded-5 bg-White w-max px-[1em] pt-[2em] pb-1 flex flex-col relative justify-center items-center">
            <span class="ClosePop absolute top-[1em] left-[1em] hover:cursor-pointer">
                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M6.9998 8.40005L2.0998 13.3C1.91647 13.4834 1.68314 13.575 1.3998 13.575C1.11647 13.575 0.883138 13.4834 0.699805 13.3C0.516471 13.1167 0.424805 12.8834 0.424805 12.6C0.424805 12.3167 0.516471 12.0834 0.699805 11.9L5.5998 7.00005L0.699805 2.10005C0.516471 1.91672 0.424805 1.68338 0.424805 1.40005C0.424805 1.11672 0.516471 0.883382 0.699805 0.700049C0.883138 0.516715 1.11647 0.425049 1.3998 0.425049C1.68314 0.425049 1.91647 0.516715 2.0998 0.700049L6.9998 5.60005L11.8998 0.700049C12.0831 0.516715 12.3165 0.425049 12.5998 0.425049C12.8831 0.425049 13.1165 0.516715 13.2998 0.700049C13.4831 0.883382 13.5748 1.11672 13.5748 1.40005C13.5748 1.68338 13.4831 1.91672 13.2998 2.10005L8.3998 7.00005L13.2998 11.9C13.4831 12.0834 13.5748 12.3167 13.5748 12.6C13.5748 12.8834 13.4831 13.1167 13.2998 13.3C13.1165 13.4834 12.8831 13.575 12.5998 13.575C12.3165 13.575 12.0831 13.4834 11.8998 13.3L6.9998 8.40005Z"
                        fill="#68737C" />
                </svg>
            </span>
            <div class="Logo w-auto mb-8 flex justify-center items-center mx-auto">
                <a href="" class="w-auto flex justify-center items-center">
                    <img src="images/logo-v3.png" alt="">
                </a>
            </div>


            <!----------------------------- DMNTOKEN ---------------------------->
            <basis core="dbsource" source="trustlogintestapi" name="db" useragent="[##cms.request.user-agent##]"
                ip="[##cms.request.clientip##]">
                <member name="dmntoken" type="scalar" request="dmntoken" preview="true" />
            </basis>
            <!---------------------------- TOKEN -------------------------------->
            <basis core="api" url="http://trust.basiscore.net/token?recaptcha={##token.recaptcha.value|()##}"
                method="post" triggers="token.recaptcha run.token" if="{##run.token|(false)##}"
                content-type='application/json' OnProcessed="onProcessedToken"
                body='{ "dmntoken": "{##db.token.value##}" }' name="api.token" run="atclient">
            </basis>

            <!---------------------------- authentication -------------------------------->
            <basis name="api.authentication" core="api" url="http://trust.basiscore.net/authentication?culture=fa"
                method="post"
                body='{"token": "{##token.token.value##}", "username": "{##db.userlogin.UserName##}", "captcha": "{##db.userlogin.captchaid##}"}'
                content-type="application/json" run="atclient" OnProcessed="onProcessedAuthenticationFn"
                triggers="db.userlogin db.AuthenticateNoneCaptcha resend.sms resend.email" if="{##token.token##} && {##db.userlogin##}">
            </basis>
            <!---------------------------- countryCode -------------------------------->
            <basis name="api.countryCode" core="api" url="https://trust.basiscore.net/countrycodes?culture=fa"
            method="get" content-type="application/json" run="atclient" OnProcessed="onProcessedGetCountryCode"
            triggers="run.countryCode" if="{##run.countryCode##}">
            </basis>

            <!---------------------------- login -------------------------------->
            <basis name="api.login" core="api" url="http://trust.basiscore.net/login?culture=fa" method="post"
            body='{"hashid": "{##authentication.hashid.value##}", "code": "{##form.login.code##}", "recode": "{##form.login.recode##}", "email": "{##form.login.email##}", "mobile": "{##form.login.mobile##}"}'
            content-type="application/json" run="atclient" OnProcessed="onProcessedLoginFn" triggers="form.login" if="{##token.token##} && {##authentication.hashid##} && {##form.login##}"></basis>
    
            <!---------------------------- forgetpassword -------------------------------->
            <basis name="api.forgetpassword" core="api" url="http://trust.basiscore.net/forgetpassword?culture=fa" method="post"
            body='{"token":"{##token.token.value##}","username":"{##form.forgetPassword.UserName##}"}' run="atclient" OnProcessed="onProcessedForgetPasswordFn" triggers="form.forgetPassword"
            if="{##token.token##} && {##form.forgetPassword##}"></basis>

             <!---------------------------- selectuser -------------------------------->
            <basis name="api.selectuser" core="api" url="http://trust.basiscore.net/server1/selectuser" method="post"
            body="token={##token.token.value##}&hashid={##authentication.hashid.value##}&userid={##form.selectuser.userid##}" content-type="application/json" run="atclient"
            OnProcessed="onProcessedSelectUserFn" triggers="form.selectuser" if="{##token.token##} && {##authentication.hashid##} && {##form.selectuser##}"></basis>
    
             <!---------------------------- selectchangepassmethod -------------------------------->
            <basis name="api.selectchangepassmethod" core="api" url="http://trust.basiscore.net/selectchangepassmethod?culture=fa" method="post"
            body='{"token":"{##token.token.value##}","userid":{##forgetpassword.userid.value##},"user":"{##form.selectchangepassmethod.user##}","ismobile":{##form.selectchangepassmethod.ismobile##},"lid":1}'
            run="atclient" OnProcessed="onProcessedSelectChangePassMethodFn" triggers="form.selectchangepassmethod" if="{##token.token##} && {##form.selectchangepassmethod##}"></basis>
    
            <!---------------------------- cookie -------------------------------->
           <basis core="cookie" name="rkey" path="/" value="{##user.rkey.value##}" 
           triggers="user.rkey" run="atclient" OnRendered="onRenderedCookie">
          </basis>
    

            <p class="dmntoken" style="display: none;">[##db.dmntoken.dmntoken##]</p>
            <p style="display: none;">{##db.userLogin.runtoken|()##}</p>
            <form class="userLogin overflow-hidden min-w-[320px] w-full flex flex-col gap-[1em] pb-[2.8em]"
                name="db.userLogin" bc-triggers="submit">
                <div class="Input-Row w-full flex" dir="rtl">
                    <input type="text" name="UserName" placeholder="ایمیل، شماره موبایل یا نام کاربری را وارد کنید"
                        class="w-full border-[1px] border-lightBlue rounded-5 bg-White outline-none placeholder:font-IRANSansWeb400
           placeholder:font-normal placeholder:text-xs h-[50px] placeholder:leading-14.06 font-ABeeZee400
            placeholder:text-placeholder pr-[1em]">
                </div>

                <div class="BTN w-full flex justify-center items-center">
                    <button type="submit" class="submit-btn firstBtn w-[320px] absolute bottom-[3.5em] left-0 right-0 mx-auto
              [&.goLeft]:translate-x-[115%] hover:bg-hoverBtnDprimary duration-200
           py-[.8em] bg-primary flex justify-center items-center rounded-5 
           text-White  font-IRANSansWeb400 font-normal text-sm ">
                        مرحله بعد
                    </button>
                    <!-- <button type="submit" class="submit-btn secondtBtn w-[320px] absolute bottom-[3.5em] left-0 right-0 mx-auto
             goLeft [&.goLeft]:translate-x-[115%] hover:bg-hoverBtnDprimary duration-200
           py-[.8em] bg-primary flex justify-center items-center rounded-5 
           text-White  font-IRANSansWeb400 font-normal text-sm ">
                        مرحله بعد
                    </button> -->
                 
                </div>
            </form>
            <!-- <button type="button" class=" firstBtn absolute w-[320px] bottom-[3.5em]  left-0 right-0 mx-auto
        [&.goLeft]:translate-x-[115%] duration-300  hover:bg-hoverBtnDprimary 
     py-[.8em] bg-primary flex justify-center items-center rounded-5 
     text-White  font-IRANSansWeb400 font-normal text-sm ">
                مرحله بعد
            </button> -->
            <span class="copyRight my-3 w-full justify-end items-end">
                <img src="images/trust-logo-v3.png" alt="">
            </span>
        </div>

    </div>
    <div class="Alert-container group/Alert fixed top-[3em] left-0 opacity-0 translate-x-100 
   [&.Show]:opacity-[1] [&.Show]:translate-x-[0]
   right-0 mx-auto z-[999] flex justify-center items-center">
        <div class="Message relative w-max px-[2em] py-[1.6em]
      rounded-5 flex gap-3 group-[&.Error]/Alert:bg-redBG group-[&.Success]/Alert:bg-secondaryBG">
            <p class="error font-IRANSansWeb700 font-bold
          leading-25.04 group-[&.Success]/Alert:text-secondary group-[&.Error]/Alert:text-red
           text-center">شما با موفقیت وارد شدید، بعد از گذشت چند ثانیه به پنل کاربری هدایت می‌شوید </p>
            <span class="icon ml-3 relative w-auto flex justify-center items-center">
                <svg class="suc absolute opacity-0 duration-150 group-[&.Error]/Alert:opacity-0
              group-[&.Success]/Alert:opacity-[1]" width="18" height="13" viewBox="0 0 18 13" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path class="group-[&.Error]/Alert:fill-red"
                        d="M6.55 13L0.85 7.3L2.275 5.875L6.55 10.15L15.725 0.974999L17.15 2.4L6.55 13Z"
                        fill="#00A693" />
                </svg>
                <svg class="er absolute opacity-0 duration-150 
             group-[&.Error]/Alert:opacity-[1] 
             group-[&.Success]/Alert:opacity-0" width="25" height="25" viewBox="0 0 25 25" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12.5 17.5C12.7833 17.5 13.0167 17.4083 13.2 17.225C13.4 17.025 13.5 16.7833 13.5 16.5C13.5 16.2167 13.4 15.9833 13.2 15.8C13.0167 15.6 12.7833 15.5 12.5 15.5C12.2167 15.5 11.975 15.6 11.775 15.8C11.5917 15.9833 11.5 16.2167 11.5 16.5C11.5 16.7833 11.5917 17.025 11.775 17.225C11.975 17.4083 12.2167 17.5 12.5 17.5ZM11.5 13.5H13.5V7.5H11.5V13.5ZM12.5 22.5C11.1167 22.5 9.81667 22.2417 8.6 21.725C7.38333 21.1917 6.325 20.475 5.425 19.575C4.525 18.675 3.80833 17.6167 3.275 16.4C2.75833 15.1833 2.5 13.8833 2.5 12.5C2.5 11.1167 2.75833 9.81667 3.275 8.6C3.80833 7.38333 4.525 6.325 5.425 5.425C6.325 4.525 7.38333 3.81667 8.6 3.3C9.81667 2.76667 11.1167 2.5 12.5 2.5C13.8833 2.5 15.1833 2.76667 16.4 3.3C17.6167 3.81667 18.675 4.525 19.575 5.425C20.475 6.325 21.1833 7.38333 21.7 8.6C22.2333 9.81667 22.5 11.1167 22.5 12.5C22.5 13.8833 22.2333 15.1833 21.7 16.4C21.1833 17.6167 20.475 18.675 19.575 19.575C18.675 20.475 17.6167 21.1917 16.4 21.725C15.1833 22.2417 13.8833 22.5 12.5 22.5ZM12.5 20.5C14.7333 20.5 16.625 19.725 18.175 18.175C19.725 16.625 20.5 14.7333 20.5 12.5C20.5 10.2667 19.725 8.375 18.175 6.825C16.625 5.275 14.7333 4.5 12.5 4.5C10.2667 4.5 8.375 5.275 6.825 6.825C5.275 8.375 4.5 10.2667 4.5 12.5C4.5 14.7333 5.275 16.625 6.825 18.175C8.375 19.725 10.2667 20.5 12.5 20.5Z"
                        fill="#F9461C" />
                </svg>

            </span>
            <span class="Line absolute bottom-0 right-0 h-[4px] w-0 group-[&.Success]/Alert:bg-secondary
          group-[&.Error]/Alert:bg-red rounded-5"></span>
        </div>
    </div>
    <basis core="callback" triggers="db.token" run="atClient"></basis>
    <basis core="callback" triggers="db.userLogin" run="atClient"></basis>
    <basis core="callback" triggers="run.token" run="atClient"></basis>
    <basis core="callback" triggers="token.token" run="atClient"></basis>
    <basis core="callback" triggers="db.countrycode" run="atClient"></basis>
    <basis core="callback" triggers="form.login" run="atClient"></basis>
    <basis core="callback" triggers="form.forgetPassword" run="atClient"></basis>
    <basis core="callback" triggers="authentication.hashid" run="atClient"></basis>
    <!-- <basis core="callback" triggers="db.captchaId" method="getCaptcha" run="atClient"></basis> -->
    <basis core="callback" triggers="db.captchaId" ></basis>
    <script src="[##cms.cms.cdn##]/_js/lenisScroll.js"></script>
    <script src="[##cms.cms.cdn##]/asset/js/configDesk-v3.js"></script>
    <script src="[##cms.cms.cdn##]/asset/js/home-v3.js"></script>

 <script>

        const host = {
            settings: {
                'connection.web.callcommand': '/',
                'connection.web.basiscore': 'https://basispanel.ir/apicms',
                'connection.web.accounting': 'https://basispanel.ir/apicms',
                'connection.web.trust_login': 'https://basispanel.ir/apicms',
                'connection.web.media': 'https://basispanel.ir/apicms',
                'default.dbsource.verb': 'post',
                'default.call.verb': 'get',
                "connection.web.callcommand": "/",
                'default.viewCommand.groupColumn': 'prpid',
                'default.dmnid': '35',
                'default.binding.regex': '\\{##([^#]*)##\\}'
            }
        }
      
        let PopUp = document.querySelector('.Popup-container')
        let popBTN = document.querySelector('.login-button')
        let popCloseBTN = document.querySelector('.Popup-container .ClosePop')
        popBTN.addEventListener('click', () => {
            //    run token api
             $bc.setSource('run.token',true)
            PopUp.classList.toggle('open')
        })
        popCloseBTN.addEventListener('click', () => {
            PopUp.classList.toggle('open')
        })
        let CountryCodesApi =[]
        let dmnToken = document.querySelector('.dmntoken')
        $bc.setSource('db.token', dmnToken.innerHTML)
        let form = document.querySelector('form.userLogin')
        let containerInput = document.createElement('div')
        let firsttBtn = document.querySelector('button.firstBtn')
        // let secondtBtn = document.querySelector('button.secondtBtn')
        let Errorcontainer = document.querySelector('.Alert-container')
        let ErrorText = Errorcontainer.querySelector('p.error')
        let token;
        let hashid;
        let IS = false
        let IsCreateCaptcha = false
        let IsUpdateCaptcha = false
        let IsCreateMobileInput = false
        let IsCreatePassword = false
        let IsResendEmail = false
        let IsCallLogin = false
        let showCaptcha = false
        let captchaID
        let firstClick = false
        let isRefreshCaptcha = false
        const AlertMessage = (className, errorText) => {
            console.log('AlertMessage');
            console.log('className', className);
            console.log('errorText', errorText);
            Errorcontainer.classList.add(className)
            Errorcontainer.classList.add('Show')
            ErrorText.innerHTML = errorText
            setTimeout(() => {
                Errorcontainer.classList.remove('Show')
                setTimeout(() => {
                    Errorcontainer.classList.remove(className)
                }, 2200);
            }, 2000);

        }
        console.log(firsttBtn, 'firsttBtn');
        const SelectBox = ()=>{
        // SELECTBOX
let defOP = document.querySelectorAll('.default_option')
defOP.forEach((d)=>{
    d.addEventListener('click',(e)=>{
   e.currentTarget.parentElement.classList.toggle("active")
   let lis =e.currentTarget.nextElementSibling.querySelectorAll('.select_ul li')
   lis.forEach(l=>{
    l.addEventListener('click',(e1)=>{
        let currentele = e1.currentTarget.querySelector('p').innerHTML
        console.log(e1.currentTarget);
        e1.currentTarget.parentElement.previousElementSibling.querySelector('p').innerHTML = currentele;
        e1.currentTarget.classList.add("active")
        e1.currentTarget.parentElement.parentElement.classList.remove("active")
        let countrycode =  e1.currentTarget.querySelector('.option').getAttribute('data-code')
        let countryTitle =  e1.currentTarget.querySelector('.option').getAttribute('data-id')
        console.log('countrycode',countrycode);
        $bc.setSource('db.countrycode',countrycode)
        let userinput= document.querySelector('input[name="country"]')
        let userinputcode=document.querySelector('input[name="countryCode"]')
        userinput.setAttribute('value',countryTitle)
        userinputcode.setAttribute('value',countrycode)
       })
   })
})
})
    }
        // firsttBtn.addEventListener('click', (e) => {
        //     console.log('firsttBtn click');
        //     let userName = document.querySelector(".userLogin  input[name='UserName']").value
        //     // $bc.setSource('run.token',true)
        //     if (userName != '') {
        //         console.log('userName is fil ');
        //         if(showCaptcha){
                    
        //             // beacuase of captcha = true show captch
        //             showCaptchaFn(captchaID)
               
        //         }
        //         // e.currentTarget.classList.add('goLeft')
        //         // secondtBtn.classList.remove('goLeft')
        //         console.log('firsttBtn type submit');
        //         // this.type ='submit'
        //         if(!firstClick){
        //         e.preventDefault()
        //          firsttBtn.type ='submit'
        //          firstClick = true
        //     }
        //         e.currentTarget.setAttribute('type','submit')
                    
        //     }
        //     else {
        //         console.log('userName is null ');
        //         AlertMessage('Error', 'لطفا نام کاربری یا شماره موبایل را وارد نمایید')
        //     }


        // })

        const createButtonSubmit = () => {
            let button = document.createElement('button')
            button.type = "submit"
            return button
        }
        const createSpan = (ClassName = 'userSpan') => {
            let Span = document.createElement('span')
            Span.classList.add(ClassName)
            return Span
        }
        const createInputContainer = (className = 'Input-row') => {
            let inputContainer = document.createElement('div')
            inputContainer.classList.add(className)
            return inputContainer
        }
        const createInput = (type, placeHolder, name) => {
            let input = document.createElement('input')
            input.type = type
            input.setAttribute('placeholder', placeHolder)
            input.setAttribute('name', name)
            return input
        }
        const toggleEye = (target,IsShowPass) => {           
            if(!IsShowPass){
                console.log('نمایش رمز');
                console.log(IsShowPass,'IsShowPass');
                target.classList.add('show')
                document.querySelector('input[name="code"]').setAttribute('type','text')
            }
            else{
                console.log(IsShowPass,'IsShowPass');
                console.log('پنهان رمز');
                target.classList.remove('show')
                document.querySelector('input[name="code"]').setAttribute('type','password')
            }
       
        
        }
        const newUserFormMobile = (mobileUser) => {
            let container
            let containerPass1
            let containerPass2
            let inputPassword 
            let mobileInput
            let inputPassword2 
            let passIcon
            let passIcon2
            let mobileUserr
            let mobileUserrC
            let passIcon3
            container = createInputContainer('NewuserInput')
            mobileUserrC = createInputContainer('passContainer')
            containerPass1 = createInputContainer('passContainer')
            containerPass2 = createInputContainer('passContainer')
            mobileInput = createInput('text', mobileUser, 'UserName2')
            mobileInput.setAttribute('readonly',true)
            mobileUserr = createInput('text', 'شماره موبایل', 'mobile')
            container.appendChild(mobileInput)
            inputPassword = createInput('password', 'رمز عبور', 'password')
            inputPassword2 = createInput('password', 'تکرار رمز عبور', 'password2')
            containerPass1.appendChild(inputPassword)
            containerPass2.appendChild(inputPassword2)
            container.appendChild(containerPass1)
            container.appendChild(containerPass2)
            passIcon = createSpan('requireIcon')
            passIcon.innerText ='اجباری'
            containerPass1.appendChild(passIcon)
            passIcon2 = createSpan('requireIcon')
            passIcon2.innerText ='اجباری'
            containerPass2.appendChild(passIcon2)
            passIcon3 = createSpan('optionalIcon')
            passIcon3.innerText ='اختیاری'
            mobileUserrC.appendChild(mobileUserr)
            mobileUserrC.appendChild(passIcon3)
            container.appendChild(mobileUserrC)
            return container
        }
        const newUserFormEmail = (userNameNew) => {
            let container
            let containerPass1
            let containerPass2
            let mobileInput
            let inputPassword 
            let inputPassword2 
            let passIcon
            let passIcon2
            let mobileUserr
            let mobileUserrC
            let passIcon3
            container = createInputContainer('NewuserInput')
            mobileUserrC = createInputContainer('mobileUser')
            containerPass1 = createInputContainer('passContainer')
            containerPass2 = createInputContainer('passContainer')
            mobileInput = createInput('text', userNameNew, 'email')
            mobileInput.setAttribute('readonly',true)
            mobileInput.setAttribute('value', document.querySelector(' input[name="UserName"]').value)
            mobileUserr = createInput('text', 'شماره موبایل', 'mobile')
            container.appendChild(mobileInput)
            inputPassword = createInput('password', 'رمز عبور', 'code')
            inputPassword2 = createInput('password', 'تکرار رمز عبور', 'recode')
            containerPass1.appendChild(inputPassword)
            containerPass2.appendChild(inputPassword2)
            container.appendChild(containerPass1)
            container.appendChild(containerPass2)
            passIcon = createSpan('requireIcon')
            passIcon.innerText ='اجباری'
            containerPass1.appendChild(passIcon)
            passIcon2 = createSpan('requireIcon')
            passIcon2.innerText ='اجباری'
            containerPass2.appendChild(passIcon2)
            passIcon3 = createSpan('optionalIcon')
            passIcon3.innerText ='اختیاری'
            mobileUserrC.appendChild(mobileUserr)
            mobileUserrC.appendChild(passIcon3)
            container.appendChild(mobileUserrC)
            return container
        }
        const InvelidToken = (responseJson) => {
            AlertMessage('Error', ' توکن نامعتبر است')
            let container
            let spanP
            if (!IsUpdateCaptcha || !IsCallLogin) {
                container = createInputContainer('error-container')
                spanP = createSpan('error-p')
                container.appendChild(spanP)
                IsUpdateCaptcha = true
                IsCallLogin = true
            }
            let seconds = responseJson.remain_time;
            let countdown = setInterval(function () {
                seconds--;
                seconds = seconds.toLocaleString(undefined, {
                    minimumIntegerDigits: 2
                })
                spanP.textContent = `00 : ${seconds}  ثانیه دیگر تلاش کنید`;
                if (seconds < 1) {
                    clearInterval(countdown);
                    spanP.textContent = "";
                    container.remove()
                }
            }, 1000);

            form.insertBefore(container, form.querySelector('.BTN'))
        }
        const ShowRemaintime = (responseJson,createResend) => {
            let container = createInputContainer('error-container')
            let spanP = createSpan('error-p')
            container.appendChild(spanP)
            let seconds = 59;
            let countdown = setInterval(function () {
                seconds--;
                seconds = seconds.toLocaleString(undefined, {
                    minimumIntegerDigits: 2
                })
                spanP.textContent = `00 : ${seconds} تا انقضا کد`;
                if (seconds < 1) {
                    clearInterval(countdown);
                    spanP.textContent = "";
                    spanP.remove()
                }
            }, 1000);

            form.insertBefore(container, form.querySelector('.BTN'))
            if(createResend){
                let containerRe = document.querySelector('.error-container')
                let spanResend = createSpan('ResendSMS')
                spanResend.classList.add('ResendSMS')
                spanResend.innerHTML ='ارسال مجدد کد'
                containerRe.appendChild(spanResend)
                document.querySelector('.ResendSMS').onclick = function (e) {
                    if(seconds <=0){
                        $bc.setSource("resend.sms", true);
                        console.log('ارسال مجدد کد');
                    }
                    else{
                        AlertMessage('Error',`از زمان اعتبار کد قبلی ${seconds} ثانیه باقی مانده`)
                    }
                  
                                
                 }
                createResend= false
            }
        }
        const checkInput = (inputVal)=>{
            const phonRegex = /^\d+$/
            if(phonRegex.test(inputVal)){
                console.log('کاربر شماره موبایل وارد کرده');
               return true
            }
            else{
                console.log('کاربر نام کاربری وارد کرده');
                return false
            }
        }
        const normalizePhoneNumber = (phoneNumber)=>{
           if(phoneNumber.startsWith('09')){
            console.log("phoneNumber.startsWith('09')");
            
            return '+98' + phoneNumber.slice(1)
           }
           if(phoneNumber.startsWith('98')){
            console.log("phoneNumber.startsWith('98')");
            return '+' + phoneNumber
           }
           else if(phoneNumber.startsWith('05')){
            console.log("phoneNumber.startsWith('05')")
            return '+971' + phoneNumber.slice(1)
           }
           else if(phoneNumber.startsWith('971')){
            console.log("phoneNumber.startsWith('971')")
            return '+' + phoneNumber
           }

           return phoneNumber
        }
        const getCountryByPhoneNumber = (phoneNumber)=>{
        const countryCodes = {
          '+98':'Iran',
          '+971':'United Arabic',
          '+1':'UnitedState | canada',
          '+44':'UnitedKingdom',
          '+91':'India',
          '+61':'Australia',
          '+33':'France',
          '+81':'Japan',
          }
         for(const code in countryCodes){
            console.log(code);
            console.log(phoneNumber,'phoneNumber in getCountryByPhoneNumber ');
            if(phoneNumber.startsWith(code)){
                return countryCodes[code]
            }
         }
         return 'کشور پیدا نشد'
        }
        const invelidPhoneNumber = (phoneNumber)=>{
            const pattern =/^(\+?\d{1,3}[-.\s]?)?(\(?\d{3}\)?[-.\s]?)?\d{3}[-.\s]?\d{4}$/;
            if (!phoneNumber) {
              return false;
            }
            else{
                if (pattern.test(phoneNumber)) {
                    console.log('invelidPhoneNumber true',phoneNumber);
                    
                    return true;
                } else {
                    console.log('invelidPhoneNumber false',phoneNumber);
                    return false;
                }
            }
            return true

        }
    
        function forgetPasswordFn(e) {
    console.log(e);
          document.querySelector('.passwordBox').remove()
          form.setAttribute("name", "form.forgetpassword")
          firsttBtn.click()
        // const vars = mainfunc()

        // vars.loginForm.querySelector("input[name='code']").closest(".item_wrapper").remove();
        // vars.loginForm.querySelector("input[name='captchaid']")?.closest(".item_wrapper").remove();
        // vars.loginForm.setAttribute("name", "form.forgetpassword");
        // // loginForm.submit();
        // vars.loginForm.querySelector(".submitForm").click();
        // vars.loginForm.querySelector(".forgetPassword").remove();
    };
    
    const showCaptchaFn = (captchaId)=>{
        console.log('showCaptcha');
                                    
                                    if (!IsCreateCaptcha) {
                                let container = createInputContainer('captchabox')
                                let inputCaptcha = createInput('text', '', 'captchaid')
                                let captchImg = document.createElement('img')
                                // captchImg.setAttribute('src',`https://trust-login.com/${captchaId}`)
                                // captchImg.setAttribute('src',`http://trust.basiscore.net/${captchaId}`)
                                let span = createSpan('refreshCaptcha')
                                span.innerHTML = `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.64 2.35C12.19 0.9 10.2 0 7.99 0C3.57 0 0 3.58 0 8C0 12.42 3.57 16 7.99 16C11.72 16 14.83 13.45 15.72 10H13.64C12.82 12.33 10.6 14 7.99 14C4.68 14 1.99 11.31 1.99 8C1.99 4.69 4.68 2 7.99 2C9.65 2 11.13 2.69 12.21 3.78L8.99 7H15.99V0L13.64 2.35Z" fill="#004B85"/>
</svg>
`
                                container.appendChild(captchImg)
                                container.appendChild(inputCaptcha)
                                container.appendChild(span)
                                form.insertBefore(container, form.querySelector('.BTN'))
                                IsCreateCaptcha = true
                            }
                             showCaptcha = true
                            document.querySelector('.captchabox img').setAttribute('src', `https://trust-login.com/${captchaId}`)
                            document.querySelector('.refreshCaptcha').onclick = function (e) {
                                $bc.setSource("run.token", true);
                                isRefreshCaptcha = true
                            }
    }

    let input = document?.querySelector(".userLogin  input[name='UserName']")
    input.addEventListener('input',(e)=>{
        let value = e.currentTarget.value.trim()
        console.log(value);
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
        const phoneRegex = /^(?:09|98|\+98)\d{9}$/
    const UnitedArabicRegex = /^(?:05|971|\+971)(50|52|54|55|56|58)\d{6}$/
        if(emailRegex.test(value) ){
            console.log('کاربر ایمیل وارد میکنه');
            input.parentElement.classList.add('mobileInput')
            let emailIcon = createSpan('mobile-icon')
            emailIcon.innerHTML=`<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 20C8.61667 20 7.31667 19.7375 6.1 19.2125C4.88333 18.6875 3.825 17.975 2.925 17.075C2.025 16.175 1.3125 15.1167 0.7875 13.9C0.2625 12.6833 0 11.3833 0 10C0 8.61667 0.2625 7.31667 0.7875 6.1C1.3125 4.88333 2.025 3.825 2.925 2.925C3.825 2.025 4.88333 1.3125 6.1 0.7875C7.31667 0.2625 8.61667 0 10 0C11.3833 0 12.6833 0.2625 13.9 0.7875C15.1167 1.3125 16.175 2.025 17.075 2.925C17.975 3.825 18.6875 4.88333 19.2125 6.1C19.7375 7.31667 20 8.61667 20 10V11.45C20 12.4333 19.6625 13.2708 18.9875 13.9625C18.3125 14.6542 17.4833 15 16.5 15C15.9167 15 15.3667 14.875 14.85 14.625C14.3333 14.375 13.9 14.0167 13.55 13.55C13.0667 14.0333 12.5208 14.3958 11.9125 14.6375C11.3042 14.8792 10.6667 15 10 15C8.61667 15 7.4375 14.5125 6.4625 13.5375C5.4875 12.5625 5 11.3833 5 10C5 8.61667 5.4875 7.4375 6.4625 6.4625C7.4375 5.4875 8.61667 5 10 5C11.3833 5 12.5625 5.4875 13.5375 6.4625C14.5125 7.4375 15 8.61667 15 10V11.45C15 11.8833 15.1417 12.25 15.425 12.55C15.7083 12.85 16.0667 13 16.5 13C16.9333 13 17.2917 12.85 17.575 12.55C17.8583 12.25 18 11.8833 18 11.45V10C18 7.76667 17.225 5.875 15.675 4.325C14.125 2.775 12.2333 2 10 2C7.76667 2 5.875 2.775 4.325 4.325C2.775 5.875 2 7.76667 2 10C2 12.2333 2.775 14.125 4.325 15.675C5.875 17.225 7.76667 18 10 18H14C14.2833 18 14.5208 18.0958 14.7125 18.2875C14.9042 18.4792 15 18.7167 15 19C15 19.2833 14.9042 19.5208 14.7125 19.7125C14.5208 19.9042 14.2833 20 14 20H10ZM10 13C10.8333 13 11.5417 12.7083 12.125 12.125C12.7083 11.5417 13 10.8333 13 10C13 9.16667 12.7083 8.45833 12.125 7.875C11.5417 7.29167 10.8333 7 10 7C9.16667 7 8.45833 7.29167 7.875 7.875C7.29167 8.45833 7 9.16667 7 10C7 10.8333 7.29167 11.5417 7.875 12.125C8.45833 12.7083 9.16667 13 10 13Z" fill="#C8CCCF"/>
</svg>
`
                   input.parentElement.appendChild(emailIcon)
        }
        // else if(UnitedArabicRegex.test(value)){
        //     console.log('UnitedArabic phone');
            
        // }
        else if(phoneRegex.test(value) || UnitedArabicRegex.test(value)){
            console.log('کاربر شماره وارد میکنه');
            let isPhonenumberValidFormat 
            input.parentElement.classList.add('mobileInput')
            $bc.setSource('run.countryCode',true)
//             return new Promise ((resolve,reject)=>{
//                 let result = normalizePhoneNumber(input.value)
//                 resolve(result)
//             }).then((response)=>{
//                 console.log(response,'response');
//                 let countryCode =  getCountryByPhoneNumber(response)
//                 isPhonenumberValidFormat = invelidPhoneNumber(response)
//                 console.log(invelidPhoneNumber(response),'isPhonenumberValidFormat');
//                 if(isPhonenumberValidFormat){
//                     $bc.setSource('run.countryCode',true)
//                     console.log('شماره موبایل با فرمت صحیح وارد شده');

//                     input.parentElement.classList.add('mobileInput')
//                     let mobileIcon = createSpan('mobile-icon')
//                     mobileIcon.innerHTML=`<svg width="13" height="22" viewBox="0 0 13 22" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path d="M2.375 22C1.89375 22 1.48177 21.8042 1.13906 21.4125C0.796354 21.0208 0.625 20.55 0.625 20V2C0.625 1.45 0.796354 0.979167 1.13906 0.5875C1.48177 0.195833 1.89375 0 2.375 0H11.125C11.6062 0 12.0182 0.195833 12.3609 0.5875C12.7036 0.979167 12.875 1.45 12.875 2V20C12.875 20.55 12.7036 21.0208 12.3609 21.4125C12.0182 21.8042 11.6062 22 11.125 22H2.375ZM2.375 17V20H11.125V17H2.375ZM6.75 19.5C6.99792 19.5 7.20573 19.4042 7.37344 19.2125C7.54115 19.0208 7.625 18.7833 7.625 18.5C7.625 18.2167 7.54115 17.9792 7.37344 17.7875C7.20573 17.5958 6.99792 17.5 6.75 17.5C6.50208 17.5 6.29427 17.5958 6.12656 17.7875C5.95885 17.9792 5.875 18.2167 5.875 18.5C5.875 18.7833 5.95885 19.0208 6.12656 19.2125C6.29427 19.4042 6.50208 19.5 6.75 19.5ZM2.375 15H11.125V5H2.375V15ZM2.375 3H11.125V2H2.375V3Z" fill="#C8CCCF"/>
//  </svg>`
//                    input.parentElement.appendChild(mobileIcon)
//                 }
//             })

            
        }
    })
  
        // ---------------------------onProcessedToken-----------------------------------------
        async function onProcessedToken(args) {
            const response = args.response;
            if (response.status == 403) {
                // forbidden
                const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                if (errorid) {
                    if (errorid == '3') {
                        InvelidToken(responseJson)
                    }

                }
            }
            if (response.status == 200) {
                const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                const token = responseJson.token;
                console.log('onProcessedToken =>', responseJson);
                $bc.setSource('db.recieveToken', responseJson.token)
                if (errorid) {
                    if (errorid == '10') {
                        // invalid inputs 
                        AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
                    }
                    if (errorid == '1') {
                        // invalid token 
                        AlertMessage('Error', ' توکن نامعتبر است')
                    }
                    if (errorid == '3') {
                        InvelidToken(responseJson)
                    }
                    if (errorid == '9') {
                        $bc.setSource("token.token", token)
                        let userName = document?.querySelector(".userLogin  input[name='UserName']")
                        if (userName != undefined && userName != "") {
                            userName.setAttribute('value', userName.value)
                            console.log('userName', userName.value);
                        }

                        if (captcha == true) {
                                firsttBtn.type ='button'
                                console.log('user IP is not in whitelist');
                                captchaID = captchaId
                                console.log('captchaId is',captchaID);
                                showCaptcha = true
                                if(isRefreshCaptcha){
                                    console.log('RefreshCaptcha');
                                    // beacuase of captcha = true show captch
                                    showCaptchaFn(captchaID)
                            
                                }
                                firsttBtn.addEventListener('click', (e) => {
                                console.log('firsttBtn click');
                                let userName = document.querySelector(".userLogin  input[name='UserName']").value
                                // $bc.setSource('run.token',true)
                                if (userName != '') {
                                   console.log('userName is fil ');
                                if(showCaptcha){
                                    console.log('showwww');
                                    // beacuase of captcha = true show captch
                                    showCaptchaFn(captchaID)
                            
                                }
                                console.log('firsttBtn type submit');
                                if(!firstClick){
                                e.preventDefault()
                                firsttBtn.type ='submit'
                                firstClick = true
                            }
                        e.currentTarget.setAttribute('type','submit')
                            
                    }
                    else {
                        console.log('userName is null ');
                        AlertMessage('Error', 'لطفا نام کاربری یا شماره موبایل را وارد نمایید')
                    }


                })
                           
//                             if(checkInput(userName.value)){
//                                let isPhonenumberValidFormat 
//                                 return new Promise ((resolve,reject)=>{
//                                 let result = normalizePhoneNumber(userName.value)
//                                     resolve(result)
//                                 }).then((response)=>{
//                                     console.log(response,'response');
//                                 let countryCode =  getCountryByPhoneNumber(response)
//                                 console.log(countryCode,'کد کشور');
//                                  isPhonenumberValidFormat = invelidPhoneNumber(response)
//                                  console.log(invelidPhoneNumber(response),'isPhonenumberValidFormat');

//                                  if(isPhonenumberValidFormat){
//                                     $bc.setSource('run.countryCode',true)
//                                  console.log('شماره موبایل با فرمت صحیح وارد شده');
                                 
                                 
//                                    if(!IsCreateMobileInput){
//                                     let container = createInputContainer('mobileInput')
//                                 let mobileInputVal = document.querySelector("input[name='UserName']")
//                                 let inputMobile= createInput('text',mobileInputVal.value, 'code')
//                                 let mobileIcon = createSpan('mobile-icon')
//                                 mobileIcon.innerHTML=`<svg width="13" height="22" viewBox="0 0 13 22" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path d="M2.375 22C1.89375 22 1.48177 21.8042 1.13906 21.4125C0.796354 21.0208 0.625 20.55 0.625 20V2C0.625 1.45 0.796354 0.979167 1.13906 0.5875C1.48177 0.195833 1.89375 0 2.375 0H11.125C11.6062 0 12.0182 0.195833 12.3609 0.5875C12.7036 0.979167 12.875 1.45 12.875 2V20C12.875 20.55 12.7036 21.0208 12.3609 21.4125C12.0182 21.8042 11.6062 22 11.125 22H2.375ZM2.375 17V20H11.125V17H2.375ZM6.75 19.5C6.99792 19.5 7.20573 19.4042 7.37344 19.2125C7.54115 19.0208 7.625 18.7833 7.625 18.5C7.625 18.2167 7.54115 17.9792 7.37344 17.7875C7.20573 17.5958 6.99792 17.5 6.75 17.5C6.50208 17.5 6.29427 17.5958 6.12656 17.7875C5.95885 17.9792 5.875 18.2167 5.875 18.5C5.875 18.7833 5.95885 19.0208 6.12656 19.2125C6.29427 19.4042 6.50208 19.5 6.75 19.5ZM2.375 15H11.125V5H2.375V15ZM2.375 3H11.125V2H2.375V3Z" fill="#C8CCCF"/>
// </svg>
// `
                              
//                                 container.appendChild(mobileIcon)
//                                 container.appendChild(inputMobile)
//                                 form.insertBefore(container, form.querySelector('.BTN'))
//                                 IsCreateMobileInput = !IsCreateMobileInput
//                                    }
//                                  userName.style.display='none'
                               
                                 
                    
//                                }
//                               else{
//                                  AlertMessage('Error', 'فرمت وارد شده صحیح نیست')
//                                 }
//                                 }) 
                           

                          
                            
                          
//                             }
//                             else{

//                                 showCaptcha = true
//                                 $bc.setSource('db.captchaId',captchaId)
// //                                 if(showCaptcha){
// //                                     console.log('show captcha');
                                    
// //                                     if (!IsCreateCaptcha) {
// //                                 let container = createInputContainer('captchabox')
// //                                 let inputCaptcha = createInput('text', '', 'captchaid')
// //                                 let captchImg = document.createElement('img')
// //                                 // captchImg.setAttribute('src',`https://trust-login.com/${captchaId}`)
// //                                 // captchImg.setAttribute('src',`http://trust.basiscore.net/${captchaId}`)
// //                                 let span = createSpan('refreshCaptcha')
// //                                 span.innerHTML = `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
// // <path d="M13.64 2.35C12.19 0.9 10.2 0 7.99 0C3.57 0 0 3.58 0 8C0 12.42 3.57 16 7.99 16C11.72 16 14.83 13.45 15.72 10H13.64C12.82 12.33 10.6 14 7.99 14C4.68 14 1.99 11.31 1.99 8C1.99 4.69 4.68 2 7.99 2C9.65 2 11.13 2.69 12.21 3.78L8.99 7H15.99V0L13.64 2.35Z" fill="#004B85"/>
// // </svg>
// // `
// //                                 container.appendChild(captchImg)
// //                                 container.appendChild(inputCaptcha)
// //                                 container.appendChild(span)
// //                                 form.insertBefore(container, form.querySelector('.BTN'))
// //                                 IsCreateCaptcha = true
// //                             }

// //                             document.querySelector('.captchabox img').setAttribute('src', `https://trust-login.com/${captchaId}`)
// //                             document.querySelector('.refreshCaptcha').onclick = function (e) {
// //                                 $bc.setSource("run.token", true);
// //                             }
// //                                  }

//                             }
                        
                           




                        }
                        if (captcha == false) {
                            console.log('user IP is in whitelist');
//                             let userName = document?.querySelector(".userLogin  input[name='UserName']")
//                             if(checkInput(userName.value)){
//                             console.log('phone number');
//                             $bc.setSource('db.AuthenticateNoneCaptcha',true)
                        
//                               if(!IsCreatePassword){
//                                     let container = createInputContainer('passwordBox')
//                                     let mobileInputVal = document.querySelector("input[name='UserName']")
//                                     let inputPassword = createInput('password', `کد ارسال شده برای ${mobileInputVal.value} را وارد کنید`, 'code')
//                                     container.appendChild(inputPassword)
//                                     form.insertBefore(container, form.querySelector('.BTN'))  
//                                     createResend = true 
//                                     ShowRemaintime(responseJson ,createResend)
//                                     IsCreatePassword = true
//                                 }
//                                let isPhonenumberValidFormat 
//                                 return new Promise ((resolve,reject)=>{
//                                 let result = normalizePhoneNumber(userName.value)
//                                     resolve(result)
//                                 }).then((response)=>{
//                                     console.log(response,'response');
//                                 let countryCode =  getCountryByPhoneNumber(response)
//                                 console.log(countryCode,'کد کشور');
//                                  isPhonenumberValidFormat = invelidPhoneNumber(response)
//                                  console.log(invelidPhoneNumber(response),'isPhonenumberValidFormat');

//                                  if(isPhonenumberValidFormat){
//                                     $bc.setSource('run.countryCode',true)
//                                  console.log('شماره موبایل با فرمت صحیح وارد شده');
                                 
                                 
//                                    if(!IsCreateMobileInput){
//                                     let container = createInputContainer('mobileInput')
//                                 let mobileInputVal = document.querySelector("input[name='UserName']")
//                                 let inputMobile= createInput('text',mobileInputVal.value, 'code')
//                                 let mobileIcon = createSpan('mobile-icon')
//                                 mobileIcon.innerHTML=`<svg width="13" height="22" viewBox="0 0 13 22" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path d="M2.375 22C1.89375 22 1.48177 21.8042 1.13906 21.4125C0.796354 21.0208 0.625 20.55 0.625 20V2C0.625 1.45 0.796354 0.979167 1.13906 0.5875C1.48177 0.195833 1.89375 0 2.375 0H11.125C11.6062 0 12.0182 0.195833 12.3609 0.5875C12.7036 0.979167 12.875 1.45 12.875 2V20C12.875 20.55 12.7036 21.0208 12.3609 21.4125C12.0182 21.8042 11.6062 22 11.125 22H2.375ZM2.375 17V20H11.125V17H2.375ZM6.75 19.5C6.99792 19.5 7.20573 19.4042 7.37344 19.2125C7.54115 19.0208 7.625 18.7833 7.625 18.5C7.625 18.2167 7.54115 17.9792 7.37344 17.7875C7.20573 17.5958 6.99792 17.5 6.75 17.5C6.50208 17.5 6.29427 17.5958 6.12656 17.7875C5.95885 17.9792 5.875 18.2167 5.875 18.5C5.875 18.7833 5.95885 19.0208 6.12656 19.2125C6.29427 19.4042 6.50208 19.5 6.75 19.5ZM2.375 15H11.125V5H2.375V15ZM2.375 3H11.125V2H2.375V3Z" fill="#C8CCCF"/>
// </svg>
// `
                              
//                                 container.appendChild(mobileIcon)
//                                 container.appendChild(inputMobile)
//                                 form.insertBefore(container, form.querySelector('.BTN'))
//                                 IsCreateMobileInput = !IsCreateMobileInput
//                                    }
//                                  userName.style.display='none'
//                                }
//                               else{
//                                  AlertMessage('Error', 'فرمت وارد شده صحیح نیست')
//                                 }
//                                 }) 
                           

                          
                            
                          
//                             }
//                             else{
//                                 console.log('username');
//                                 let container
//                                 let userInputVal
//                                 let inputPassword 
//                                 let createResend
//                                 let forgetPasswordContainer
//                                 let forgetPassword
//                                 if(!IsCreatePassword){
//                                     let container = createInputContainer('passwordBox')
//                                     let spanPssIcon = createSpan('passwordEyeIcon')
//                                     spanPssIcon.innerHTML = `
//                                     <svg class="onShow" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#C8CCCF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye" style="display: block;"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
//                                    <svg class="onHidden width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
// <path d="M15.175 8.3251C15.6583 8.80843 16.0125 9.35843 16.2375 9.9751C16.4625 10.5918 16.5417 11.2251 16.475 11.8751C16.475 12.1251 16.3833 12.3376 16.2 12.5126C16.0167 12.6876 15.8 12.7751 15.55 12.7751C15.3 12.7751 15.0875 12.6876 14.9125 12.5126C14.7375 12.3376 14.65 12.1251 14.65 11.8751C14.7333 11.4418 14.7083 11.0251 14.575 10.6251C14.4417 10.2251 14.2333 9.88343 13.95 9.6001C13.6667 9.31676 13.325 9.1001 12.925 8.9501C12.525 8.8001 12.1 8.76676 11.65 8.8501C11.4 8.8501 11.1875 8.75843 11.0125 8.5751C10.8375 8.39176 10.75 8.1751 10.75 7.9251C10.75 7.6751 10.8375 7.4626 11.0125 7.2876C11.1875 7.1126 11.4 7.0251 11.65 7.0251C12.2833 6.95843 12.9083 7.0376 13.525 7.2626C14.1417 7.4876 14.6917 7.84176 15.175 8.3251ZM12 6.0001C11.6833 6.0001 11.375 6.0126 11.075 6.0376C10.775 6.0626 10.475 6.10843 10.175 6.1751C9.89167 6.2251 9.6375 6.18343 9.4125 6.0501C9.1875 5.91676 9.03333 5.71676 8.95 5.4501C8.86667 5.18343 8.89583 4.9251 9.0375 4.6751C9.17917 4.4251 9.38333 4.2751 9.65 4.2251C10.0333 4.14176 10.4208 4.08343 10.8125 4.0501C11.2042 4.01676 11.6 4.0001 12 4.0001C14.2833 4.0001 16.3708 4.6001 18.2625 5.8001C20.1542 7.0001 21.6 8.61676 22.6 10.6501C22.6667 10.7834 22.7167 10.9209 22.75 11.0626C22.7833 11.2043 22.8 11.3501 22.8 11.5001C22.8 11.6501 22.7875 11.7959 22.7625 11.9376C22.7375 12.0793 22.6917 12.2168 22.625 12.3501C22.325 13.0168 21.9542 13.6418 21.5125 14.2251C21.0708 14.8084 20.5833 15.3418 20.05 15.8251C19.85 16.0084 19.6167 16.0834 19.35 16.0501C19.0833 16.0168 18.8667 15.8834 18.7 15.6501C18.5333 15.4168 18.4625 15.1626 18.4875 14.8876C18.5125 14.6126 18.625 14.3834 18.825 14.2001C19.225 13.8168 19.5917 13.4001 19.925 12.9501C20.2583 12.5001 20.55 12.0168 20.8 11.5001C19.9667 9.81676 18.7625 8.47926 17.1875 7.4876C15.6125 6.49593 13.8833 6.0001 12 6.0001ZM12 19.0001C9.76667 19.0001 7.725 18.3959 5.875 17.1876C4.025 15.9793 2.56667 14.3918 1.5 12.4251C1.41667 12.2918 1.35417 12.1459 1.3125 11.9876C1.27083 11.8293 1.25 11.6668 1.25 11.5001C1.25 11.3334 1.26667 11.1751 1.3 11.0251C1.33333 10.8751 1.39167 10.7251 1.475 10.5751C1.80833 9.90843 2.19583 9.27093 2.6375 8.6626C3.07917 8.05426 3.58333 7.5001 4.15 7.0001L2.075 4.9001C1.89167 4.7001 1.80417 4.4626 1.8125 4.1876C1.82083 3.9126 1.91667 3.68343 2.1 3.5001C2.28333 3.31676 2.51667 3.2251 2.8 3.2251C3.08333 3.2251 3.31667 3.31676 3.5 3.5001L20.5 20.5001C20.6833 20.6834 20.7792 20.9126 20.7875 21.1876C20.7958 21.4626 20.7 21.7001 20.5 21.9001C20.3167 22.0834 20.0833 22.1751 19.8 22.1751C19.5167 22.1751 19.2833 22.0834 19.1 21.9001L15.6 18.4501C15.0167 18.6334 14.425 18.7709 13.825 18.8626C13.225 18.9543 12.6167 19.0001 12 19.0001ZM5.55 8.4001C5.06667 8.83343 4.625 9.30843 4.225 9.8251C3.825 10.3418 3.48333 10.9001 3.2 11.5001C4.03333 13.1834 5.2375 14.5209 6.8125 15.5126C8.3875 16.5043 10.1167 17.0001 12 17.0001C12.3333 17.0001 12.6583 16.9793 12.975 16.9376C13.2917 16.8959 13.6167 16.8501 13.95 16.8001L13.05 15.8501C12.8667 15.9001 12.6917 15.9376 12.525 15.9626C12.3583 15.9876 12.1833 16.0001 12 16.0001C10.75 16.0001 9.6875 15.5626 8.8125 14.6876C7.9375 13.8126 7.5 12.7501 7.5 11.5001C7.5 11.3168 7.5125 11.1418 7.5375 10.9751C7.5625 10.8084 7.6 10.6334 7.65 10.4501L5.55 8.4001Z" fill="#C8CCCF"/>
// </svg>
 
//                                     `
//                                     container.appendChild(spanPssIcon)
//                                     let userInputVal = document.querySelector("input[name='UserName']")
//                                     let inputPassword = createInput('password', 'رمز عبور (حساس به حروف بزرگ و کوچک)', 'code')
//                                     container.appendChild(inputPassword)
//                                      let IsShowPass = true
//                                     // toggleEye
//                                     spanPssIcon.onclick = function (e) {
//                                         IsShowPass = !IsShowPass
//                                         toggleEye(e.currentTarget,IsShowPass)
//                                      }

//                                      let forgetPasswordContainer = createInputContainer('forgetPasswordC')
//                                      let forgetPassword = createSpan('forgetPassword')
//                                      forgetPassword.innerHTML ='فراموشی رمز عبور '
//                                      forgetPasswordContainer.appendChild(forgetPassword)
//                                      container.appendChild(forgetPasswordContainer)
//                                      form.insertBefore(container, form.querySelector('.BTN'))  
//                                     forgetPassword.onclick =  function (e) {
//                                        forgetPasswordFn(e)
//                                      }
//                                     IsCreatePassword = true
                                
//                                     }

//                             }
                        
                           


                        }
                    }
                }

            }
        }


        async function onProcessedAuthenticationFn(args) {
            const response = args.response;
        if (response.status == 400 || response.status == 403 ) {
         // forbidden
         const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                if (errorid) {
                    if (errorid == '10') {
                        // invalid inputs 
                        AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
                    }
                    if (errorid == '15') {
                        // expired token
                        InvelidToken(responseJson)
                    }
                    if (errorid == '17') {
                        // incorrect captcha
                        AlertMessage('Error', 'کپچا اشتباه وارد شده')
                    }
                    if (errorid == '3') {
                        InvelidToken(responseJson)
                    }
                    if (errorid == '54') {
                        // incorrect useragent
                        AlertMessage('Error', 'useragent مرورگر معتبر نیست')
                    }
                    if (errorid == '58') {
                        // disabled user
                        AlertMessage('Error', ' کاربر غیرفعال است')
                    }
                    if (errorid == '1') {
                        // invalid token 
                        InvelidToken(responseJson)
                    }
                    if (errorid == '3') {
                        InvelidToken(responseJson)
                    }

                }
            }
            if (response.status == 200) {
                const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                const hashid = responseJson.hashid;
                console.log('onProcessedAuthenticationFn =>', responseJson);
                $bc.setSource("authentication.hashid", hashid);
                if (errorid) {
                    if (errorid == '10') {
                        // invalid inputs 
                        AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
                    }
                    if (errorid == '1') {
                        // invalid token 
                        InvelidToken(responseJson)
                    }
                    if (errorid == '3') {
                        InvelidToken(responseJson)
                    }
                    if (errorid == '8') {
                        // recovery email 
                        AlertMessage('Success', 'این ایمیل برای نام کاربری دیگری ثبت گردیده ، ایمیل بازیابی نام کاربری برای شما ارسال گردید')
                        form.insertBefore(container, form.querySelector('.BTN'))
                        if(!IsResendEmail){
                            let containerRe = document.querySelector('.ResendEmail-container')
                            let spanResend = createSpan('ResendEmail')
                            spanResend.classList.add('ResendEmail')
                            spanResend.innerHTML ='ارسال مجدد ایمیل'
                            containerRe.appendChild(spanResend)
                            document.querySelector('.ResendEmail').onclick = function (e) {
                                    $bc.setSource("resend.email", true);
                                    console.log('ارسال مجدد ایمیل');         
                            }
                            IsResendEmail= true
                        }
                    }
                    if (errorid == '17') {
                        // incorrect captcha
                        AlertMessage('Error', 'کپچا اشتباه وارد شده')
                    }
                    if (errorid == '54') {
                        // incorrect useragent
                        AlertMessage('Error', ' نوکن نامعتبر است ')
                    }
                    if (errorid == '53') {
                        // activation email
                        AlertMessage('Success', 'ایمیل فعالسازی مجددا برای شما ارسال شد')
                        IsResendEmail = false
                        if(!IsResendEmail){
                            let containerRe = document.querySelector('.ResendEmail-container')
                            let spanResend = createSpan('ResendEmail')
                            spanResend.classList.add('ResendEmail')
                            spanResend.innerHTML ='ارسال مجدد ایمیل'
                            containerRe.appendChild(spanResend)
                            document.querySelector('.ResendEmail').onclick = function (e) {
                                    $bc.setSource("resend.email", true);
                                    console.log('ارسال مجدد ایمیل');                                            
                            }
                            IsResendEmail= true
                        }
                    }
                    if (errorid == '58') {
                        // disabled user
                        AlertMessage('Error', ' کاربر غیرفعال است')
                    }
                    if (errorid == '4') {
                        // authentication by mobile – multi user
                        const users = responseJson.users;
                        const hashid = responseJson.hashid;
                        form.setAttribute('name', "form.selectuser")
                        $bc.setSource("authentication.hashid", hashid);
                        // ------------------new changes ----------------
                        console.log(users);
                        // userName.style.display='none'
                        const mailsSelectBox = createInputContainer('mailsSelectBox')
                        const emailListBox =createInputContainer('emailListBox')
                        emailListBox.classList.add("input-title");
                        emailListBox.innerText = "شماره موبایل وارد شده، به تعدادی اکانت مختلف متصل است، شما تمایل دارید با کدام اکانت وارد شوید ؟ ";
                        form.insertBefore(emailListBox, form.querySelector('.BTN'))
                        users.forEach((element, index, array) => {
                        const emailListLabel = document.createElement("label");
                        emailListLabel.classList.add("email-item");
                        const emailListRadio = createInput('radio','', 'userid')
                        emailListRadio.setAttribute("value", `${users[index].userid}`);
                        if (index == 0) {
                            emailListRadio.setAttribute("required", true);
                        }
                        const emailListSpan = document.createElement("span");
                        emailListSpan.classList.add("email-label");
                        emailListSpan.innerText = `${users[index].username}`;
                        emailListLabel.appendChild(emailListRadio);
                        emailListLabel.appendChild(emailListSpan);
                        mailsSelectBox.appendChild(emailListLabel)
                        form.insertBefore(mailsSelectBox, form.querySelector('.BTN'))  
                        });
                    }
                    if (errorid == '2') {
                        form.setAttribute('name','form.login')
                        let type = responseJson.type;
                        let newUser = responseJson.newUser;
                      
                        if (type == "mobile") {
                              document.querySelector('.SelectBoxes').style.display='none'
                        document.querySelector('.mobile-icon').style.display='none'
                            if (newUser) {
                                // authentication by mobile - single user new user
                                console.log('کاربر با شماره موبایل وارد شده و کاربر جدید است');
                                document.querySelector('input[name="UserName"]').style.display='none'
                                // document.querySelector('.mobileInput').style.display='none'
                                if(document.querySelector('.captchabox')){
                                 document.querySelector('.captchabox').style.display='none'
                                }
                                let mobileUser =document.querySelector('input[name="UserName"]').getAttribute('placeholder')
                                let createResend
                                let containernewUserFor
                                if(!IsCreatePassword){
                                    let container = createInputContainer('passwordBox')
                                    let mobileInputVal = document.querySelector("input[name='UserName']")
                                    let inputPassword = createInput('password', `کد ارسال شده برای ${mobileInputVal.value} را وارد کنید`, 'code')
                                    container.appendChild(inputPassword)
                                    form.insertBefore(container, form.querySelector('.BTN'))  
                                    createResend = true 
                                    ShowRemaintime(responseJson ,createResend)
                                    IsCreatePassword = true
                                    // containernewUserFor =   newUserFormMobile(mobileInputVal.value)
                                    // form.insertBefore(containernewUserFor, form.querySelector('.BTN'))  
                                }
                            
                            
                            
                            }
                            else {
                                // authentication by mobile - single user
                                console.log('کاربر با شماره موبایل وارد شده ');
                                if(document.querySelector('.captchabox')){
                                 document.querySelector('.captchabox').style.display='none'
                                }
                                document.querySelector('input[name="UserName"]').style.display='none'
                                let container
                                let mobileInputVal
                                let inputPassword 
                                let createResend
                                if(!IsCreatePassword){
                                    let container = createInputContainer('passwordBox')
                                    let mobileInputVal = document.querySelector("input[name='UserName']")
                                    let inputPassword = createInput('password', `کد ارسال شده برای ${mobileInputVal.value} را وارد کنید`, 'code')
                                    container.appendChild(inputPassword)
                                    form.insertBefore(container, form.querySelector('.BTN'))  
                                    createResend = true 
                                    ShowRemaintime(responseJson ,createResend)
                                    IsCreatePassword = true
                                }
                            
                          
                            }

                        }
                        if (type == "username" || type == "email") {
                            if (newUser) {
                                // authentication by username - single user new user
                                console.log('کاربر با نام کاربری وارد شده و کاربر جدید است');
                                document.querySelector('.Input-Row:first-child').style.display='none'
                                if(document.querySelector('.captchabox')){
                                 document.querySelector('.captchabox').style.display='none'
                                }
                                let userNameNew = document.querySelector(' input[name="UserName"]').value
                               let container= newUserFormEmail(userNameNew)
                               let mobileInput= container.querySelector('input[name="email"]')
                               let mobileUserrC = container.querySelector('.mobileUser')
                               form.insertBefore(container, form.querySelector('.BTN'))  
                                if (type == "username") {
                                    mobileInput.setAttribute('name','email')
                                    let emailContainer
                                    let email
                                    let emailIcon
                                    emailIcon = createSpan('requireIcon')
                                    emailIcon.innerText ='اجباری'
                                    emailContainer = createInputContainer('RequireEmail')
                                    email = createInput('email', 'ایمیل (الزامی)', 'email')
                                    emailContainer.appendChild(email)
                                    emailContainer.appendChild(emailIcon)
                                    container.insertBefore(emailContainer,mobileUserrC)  

                                }
                              
                            }
                            else {
                                // authentication by username - single user
                                console.log('کاربر با نام کاربری وارد شده ');
                                if(document.querySelector('.captchabox')){
                                 document.querySelector('.captchabox').style.display='none'
                                }                                
                                document.querySelector('.Input-Row:first-child').style.display='none'
                                let container
                                let userInputVal
                                let inputPassword 
                                let createResend
                                let forgetPasswordContainer
                                let forgetPassword
                                if(!IsCreatePassword){
                                    let container = createInputContainer('passwordBox')
                                    let spanPssIcon = createSpan('passwordEyeIcon')
                                    spanPssIcon.innerHTML = `
                                    <svg class="onShow" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#C8CCCF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye" style="display: block;"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                                   <svg class="onHidden width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.175 8.3251C15.6583 8.80843 16.0125 9.35843 16.2375 9.9751C16.4625 10.5918 16.5417 11.2251 16.475 11.8751C16.475 12.1251 16.3833 12.3376 16.2 12.5126C16.0167 12.6876 15.8 12.7751 15.55 12.7751C15.3 12.7751 15.0875 12.6876 14.9125 12.5126C14.7375 12.3376 14.65 12.1251 14.65 11.8751C14.7333 11.4418 14.7083 11.0251 14.575 10.6251C14.4417 10.2251 14.2333 9.88343 13.95 9.6001C13.6667 9.31676 13.325 9.1001 12.925 8.9501C12.525 8.8001 12.1 8.76676 11.65 8.8501C11.4 8.8501 11.1875 8.75843 11.0125 8.5751C10.8375 8.39176 10.75 8.1751 10.75 7.9251C10.75 7.6751 10.8375 7.4626 11.0125 7.2876C11.1875 7.1126 11.4 7.0251 11.65 7.0251C12.2833 6.95843 12.9083 7.0376 13.525 7.2626C14.1417 7.4876 14.6917 7.84176 15.175 8.3251ZM12 6.0001C11.6833 6.0001 11.375 6.0126 11.075 6.0376C10.775 6.0626 10.475 6.10843 10.175 6.1751C9.89167 6.2251 9.6375 6.18343 9.4125 6.0501C9.1875 5.91676 9.03333 5.71676 8.95 5.4501C8.86667 5.18343 8.89583 4.9251 9.0375 4.6751C9.17917 4.4251 9.38333 4.2751 9.65 4.2251C10.0333 4.14176 10.4208 4.08343 10.8125 4.0501C11.2042 4.01676 11.6 4.0001 12 4.0001C14.2833 4.0001 16.3708 4.6001 18.2625 5.8001C20.1542 7.0001 21.6 8.61676 22.6 10.6501C22.6667 10.7834 22.7167 10.9209 22.75 11.0626C22.7833 11.2043 22.8 11.3501 22.8 11.5001C22.8 11.6501 22.7875 11.7959 22.7625 11.9376C22.7375 12.0793 22.6917 12.2168 22.625 12.3501C22.325 13.0168 21.9542 13.6418 21.5125 14.2251C21.0708 14.8084 20.5833 15.3418 20.05 15.8251C19.85 16.0084 19.6167 16.0834 19.35 16.0501C19.0833 16.0168 18.8667 15.8834 18.7 15.6501C18.5333 15.4168 18.4625 15.1626 18.4875 14.8876C18.5125 14.6126 18.625 14.3834 18.825 14.2001C19.225 13.8168 19.5917 13.4001 19.925 12.9501C20.2583 12.5001 20.55 12.0168 20.8 11.5001C19.9667 9.81676 18.7625 8.47926 17.1875 7.4876C15.6125 6.49593 13.8833 6.0001 12 6.0001ZM12 19.0001C9.76667 19.0001 7.725 18.3959 5.875 17.1876C4.025 15.9793 2.56667 14.3918 1.5 12.4251C1.41667 12.2918 1.35417 12.1459 1.3125 11.9876C1.27083 11.8293 1.25 11.6668 1.25 11.5001C1.25 11.3334 1.26667 11.1751 1.3 11.0251C1.33333 10.8751 1.39167 10.7251 1.475 10.5751C1.80833 9.90843 2.19583 9.27093 2.6375 8.6626C3.07917 8.05426 3.58333 7.5001 4.15 7.0001L2.075 4.9001C1.89167 4.7001 1.80417 4.4626 1.8125 4.1876C1.82083 3.9126 1.91667 3.68343 2.1 3.5001C2.28333 3.31676 2.51667 3.2251 2.8 3.2251C3.08333 3.2251 3.31667 3.31676 3.5 3.5001L20.5 20.5001C20.6833 20.6834 20.7792 20.9126 20.7875 21.1876C20.7958 21.4626 20.7 21.7001 20.5 21.9001C20.3167 22.0834 20.0833 22.1751 19.8 22.1751C19.5167 22.1751 19.2833 22.0834 19.1 21.9001L15.6 18.4501C15.0167 18.6334 14.425 18.7709 13.825 18.8626C13.225 18.9543 12.6167 19.0001 12 19.0001ZM5.55 8.4001C5.06667 8.83343 4.625 9.30843 4.225 9.8251C3.825 10.3418 3.48333 10.9001 3.2 11.5001C4.03333 13.1834 5.2375 14.5209 6.8125 15.5126C8.3875 16.5043 10.1167 17.0001 12 17.0001C12.3333 17.0001 12.6583 16.9793 12.975 16.9376C13.2917 16.8959 13.6167 16.8501 13.95 16.8001L13.05 15.8501C12.8667 15.9001 12.6917 15.9376 12.525 15.9626C12.3583 15.9876 12.1833 16.0001 12 16.0001C10.75 16.0001 9.6875 15.5626 8.8125 14.6876C7.9375 13.8126 7.5 12.7501 7.5 11.5001C7.5 11.3168 7.5125 11.1418 7.5375 10.9751C7.5625 10.8084 7.6 10.6334 7.65 10.4501L5.55 8.4001Z" fill="#C8CCCF"/>
</svg>
 
                                    `
                                    container.appendChild(spanPssIcon)
                                    let userInputVal = document.querySelector("input[name='UserName']")
                                    let inputPassword = createInput('password', 'رمز عبور (حساس به حروف بزرگ و کوچک)', 'code')
                                    container.appendChild(inputPassword)
                                     let IsShowPass = true
                                    // toggleEye
                                    spanPssIcon.onclick = function (e) {
                                        IsShowPass = !IsShowPass
                                        toggleEye(e.currentTarget,IsShowPass)
                                     }

                                     let forgetPasswordContainer = createInputContainer('forgetPasswordC')
                                     let forgetPassword = createSpan('forgetPassword')
                                     forgetPassword.innerHTML ='فراموشی رمز عبور '
                                     forgetPasswordContainer.appendChild(forgetPassword)
                                     container.appendChild(forgetPasswordContainer)
                                     form.insertBefore(container, form.querySelector('.BTN'))  
                                    forgetPassword.onclick =  function (e) {
                                       forgetPasswordFn(e)
                                     }
                                    IsCreatePassword = true
                                }
                            }

                        }
                    }
                }

            }
        }

        const  CreateSelectBox = (countryCode,responseJson)=>{
            console.log('countryCode in CreateSelectBox',countryCode);
   // create country Select box
   let selectBox = document.createElement('div')
                let select_wrap = document.createElement('div')
                let default_option = document.createElement('ul')
                let lifirst = document.createElement('li')
                let opfirst = document.createElement('div')
                let pfirst = document.createElement('p')
                selectBox.setAttribute('name','select')
                selectBox.classList.add('SelectBoxes')
                select_wrap.classList.add('select_wrap')
                default_option.classList.add('default_option')
                opfirst.classList.add('option')
                selectBox.appendChild(select_wrap)
                select_wrap.appendChild(default_option)
                default_option.appendChild(lifirst)
                lifirst.appendChild(opfirst)
                opfirst.appendChild(pfirst)
                let select_ul = document.createElement('ul')
                select_ul.classList.add('select_ul')
                let img = document.createElement('img')
                 switch(countryCode){
                case '+98':{
                    img.setAttribute('src','/images/Flag_of_Iran.svg 1.png')
                    break
                }
                case '+971':{
                    img.setAttribute('src','/images/united-arab-emirates-flag-icon.webp')
                   break
               }
            }
                 pfirst.appendChild(img)
                 select_wrap.appendChild(select_ul)
                  let images = ['/images/Flag_of_Iran.svg 1.png','/images/united-arab-emirates-flag-icon.webp']
                  let countryOBJ =[]
                  let countryTitles =[]
                responseJson.map((data,i)=>{
                    CountryCodesApi.push(data.code)
                    countryTitles.push(data.title)
                    let obj ={
                        'code':data.code,
                        'title':data.title,
                        'image':data.image,
                    }
                    countryOBJ= [...countryOBJ,obj]
                 let liop = document.createElement('li')
                liop.classList.add('option-li')
                let op = document.createElement('div')
                let p = document.createElement('p')
                op.classList.add('option')
              
                select_ul.appendChild(liop)
                liop.appendChild(op)
                op.appendChild(p)
                 op.setAttribute('data-code',data.code)
                 op.setAttribute('data-id',data.countryid)
                 op.setAttribute('data-id',data.title)
                 let img = document.createElement('img')
                 img.setAttribute('src',images[i])
                 p.appendChild(img)
                })
                document.querySelector('.mobileInput').appendChild(selectBox)
                SelectBox()
        }
    async function onProcessedGetCountryCode(args) {
            const response = args.response;
            if (response.status == 200) {
                const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                console.log('onProcessedGetCountryCode =>', responseJson);
              let userMobile = document.querySelector('input[name="UserName"]').value
              checkUserCountry(userMobile,responseJson)
            }
   
            
        }
    const  checkUserCountry = (userMobile,responseJson)=> {
        let countryOBJ =[]
        let countryTitles =[]
        responseJson.map((data,i)=>{
                    CountryCodesApi.push(data.code)
                    countryTitles.push(data.title)
                    let obj ={
                        'code':data.code,
                        'title':data.title,
                        'image':data.image,
                    }
                    countryOBJ= [...countryOBJ,obj]
                })
       const IranRegex = /^(\+98|0)?9\d{9}$/
      const UnitedArabicRegex = /^(?:0|971|\+971)(50|52|54|55|56|58)\d{7}$/
       let mobile  = userMobile
        mobile = normalizePhoneNumber(userMobile)
        console.log(mobile,'mobile');
        input.value = mobile
   let userCountry = countryOBJ.filter(item=>{
       if(mobile.startsWith(item.code)){
            return item
        }
   })
   console.log(countryOBJ,'countryOBJ','userMobile',userMobile);
   CreateSelectBox(userCountry[0]?.code,responseJson)
    console.log('شماره کاربر برای کشور');
    console.log(userCountry[0]?.title);
    console.log(userCountry[0]?.code);
   let userinput= createInput('hidden','','country')
   let userinputcode= createInput('hidden','','countryCode')
   userinput.setAttribute('value',userCountry[0].title)
   userinputcode.setAttribute('value',userCountry[0].code)
   userinput.style.display='none'
   userinputcode.style.display='none'
   form.appendChild(userinput)
   form.appendChild(userinputcode)
   input.parentElement.classList.add('mobileInput')
    let mobileIcon = createSpan('mobile-icon')
    mobileIcon.innerHTML=`<svg width="13" height="22" viewBox="0 0 13 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.375 22C1.89375 22 1.48177 21.8042 1.13906 21.4125C0.796354 21.0208 0.625 20.55 0.625 20V2C0.625 1.45 0.796354 0.979167 1.13906 0.5875C1.48177 0.195833 1.89375 0 2.375 0H11.125C11.6062 0 12.0182 0.195833 12.3609 0.5875C12.7036 0.979167 12.875 1.45 12.875 2V20C12.875 20.55 12.7036 21.0208 12.3609 21.4125C12.0182 21.8042 11.6062 22 11.125 22H2.375ZM2.375 17V20H11.125V17H2.375ZM6.75 19.5C6.99792 19.5 7.20573 19.4042 7.37344 19.2125C7.54115 19.0208 7.625 18.7833 7.625 18.5C7.625 18.2167 7.54115 17.9792 7.37344 17.7875C7.20573 17.5958 6.99792 17.5 6.75 17.5C6.50208 17.5 6.29427 17.5958 6.12656 17.7875C5.95885 17.9792 5.875 18.2167 5.875 18.5C5.875 18.7833 5.95885 19.0208 6.12656 19.2125C6.29427 19.4042 6.50208 19.5 6.75 19.5ZM2.375 15H11.125V5H2.375V15ZM2.375 3H11.125V2H2.375V3Z" fill="#C8CCCF"/>
 </svg>`
    input.parentElement.appendChild(mobileIcon)
    
}
   
    async function onProcessedLoginFn(args) {

    const response = args.response;
    if (response.status == 400 ||response.status == 403 ) {
         // forbidden
         const responseJson = await response.json();
                const captcha = responseJson.Captcha;
                const captchaId = responseJson.Captcha_id;
                const errorid = responseJson.errorid;
                if (errorid) {
                    if (errorid == '10') {
                        AlertMessage('Error', ' لطفا ورودی های الزامی را وارد کنید')
                    }
                    if (errorid == '8') {
                // recovery email 
                AlertMessage('Success', 'این ایمیل برای نام کاربری دیگری ثبت گردیده ، ایمیل بازیابی نام کاربری برای شما ارسال گردید')
                form.insertBefore(container, form.querySelector('.BTN'))
                if(!IsResendEmail){
                let containerRe = document.querySelector('.ResendEmail-container')
                let spanResend = createSpan('ResendEmail')
                spanResend.classList.add('ResendEmail')
                spanResend.innerHTML ='ارسال مجدد ایمیل'
                containerRe.appendChild(spanResend)
                document.querySelector('.ResendEmail').onclick = function (e) {
                $bc.setSource("resend.email", true);
                onsole.log('ارسال مجدد ایمیل');         
                }
                IsResendEmail= true
                }
            }
            if (errorid == '3') {
                InvelidToken(responseJson)
            }
            if (errorid == '10') {
                // invalid inputs 
                AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
            }
            if (errorid == '11' || errorid == '55') {
                //  success 
            }
            if (errorid == '12') {
                // activation email
                AlertMessage('Success', 'ایمیل فعالسازی مجددا برای شما ارسال شد')
                IsResendEmail = false
                if(!IsResendEmail){
                    let containerRe = document.querySelector('.ResendEmail-container')
                    let spanResend = createSpan('ResendEmail')
                    spanResend.classList.add('ResendEmail')
                    spanResend.innerHTML ='ارسال مجدد ایمیل'
                    containerRe.appendChild(spanResend)
                    document.querySelector('.ResendEmail').onclick = function (e) {
                    $bc.setSource("resend.email", true);
                        console.log('ارسال مجدد ایمیل');                                            
                    }
                    IsResendEmail= true
                }
            }
            if (errorid == '13') {
                // invalid password 
                AlertMessage('Error', 'رمز عبور صحیح نمیباشد')
            }
            if (errorid == '14') {
                //password and the repetition are not match in register new user"
                AlertMessage('Error', ' رمز عبور با تکرار آن مطابقت ندارد')
            }
            if (errorid == '16') {
                //submit code is incorrect
                AlertMessage('Error', 'کد ارسالی اشتباه وارد شده')
            }
            if (errorid == '55') {
                //this user is already logged in
                AlertMessage('Error', 'شما در حال حاضر لاگین هستید')
            }
            if (errorid == '1') {
                //token expired
                InvelidToken(responseJson)
            }
            if (errorid == '19') {
                  //invalid email format
                  AlertMessage('Error', 'ایمیل به درستی وارد نشده')
            }
            if (errorid == '26') {
                  //this user exists
                  AlertMessage('Error', 'کاربر وجود دارد')
            }
            if (errorid == '56') {
                  //please login by this email
                  AlertMessage('Error', 'لطفا با ایمیل وارد شوید')
            }
                }
            }
    if (response.status == 200) {
        const responseJson = await response.json();
        const captcha = responseJson.Captcha;
        const captchaId = responseJson.Captcha_id;
        const errorid = responseJson.errorid;
        console.log('onProcessedLoginFn =>', responseJson);
             if (errorid == '8') {
                // recovery email 
                AlertMessage('Success', 'این ایمیل برای نام کاربری دیگری ثبت گردیده ، ایمیل بازیابی نام کاربری برای شما ارسال گردید')
                form.insertBefore(container, form.querySelector('.BTN'))
                if(!IsResendEmail){
                let containerRe = document.querySelector('.ResendEmail-container')
                let spanResend = createSpan('ResendEmail')
                spanResend.classList.add('ResendEmail')
                spanResend.innerHTML ='ارسال مجدد ایمیل'
                containerRe.appendChild(spanResend)
                document.querySelector('.ResendEmail').onclick = function (e) {
                $bc.setSource("resend.email", true);
                onsole.log('ارسال مجدد ایمیل');         
                }
                IsResendEmail= true
                }
            }
            if (errorid == '3') {
                InvelidToken(responseJson)
            }
            if (errorid == '10') {
                // invalid inputs 
                AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
            }
            if (errorid == '11' || errorid == '55') {
                // successful
                $bc.setSource("db.status", true)
                AlertMessage('Success', 'شما با موفقیت وارد شدید')
                const rkey = responseJson.rkey;
                setTimeout(() => {
                  window.location.href ='/'
                }, 1000);
                $bc.setSource("user.rkey", rkey);
            }
            if (errorid == '12') {
                // activation email
                AlertMessage('Success', 'ایمیل فعالسازی مجددا برای شما ارسال شد')
                IsResendEmail = false
                if(!IsResendEmail){
                    let containerRe = document.querySelector('.ResendEmail-container')
                    let spanResend = createSpan('ResendEmail')
                    spanResend.classList.add('ResendEmail')
                    spanResend.innerHTML ='ارسال مجدد ایمیل'
                    containerRe.appendChild(spanResend)
                    document.querySelector('.ResendEmail').onclick = function (e) {
                    $bc.setSource("resend.email", true);
                        console.log('ارسال مجدد ایمیل');                                            
                    }
                    IsResendEmail= true
                }
            }
            if (errorid == '13') {
                // invalid password 
                AlertMessage('Error', 'رمز عبور صحیح نمیباشد')
            }
            if (errorid == '14') {
                //password and the repetition are not match in register new user"
                AlertMessage('Error', ' رمز عبور با تکرار آن مطابقت ندارد')
            }
            if (errorid == '16') {
                //submit code is incorrect
                AlertMessage('Error', 'کد ارسالی اشتباه وارد شده')
            }
            if (errorid == '55') {
                //this user is already logged in
                AlertMessage('Error', 'شما در حال حاضر لاگین هستید')
            }
            if (errorid == '1') {
                //token expired
                InvelidToken(responseJson)
            }
            if (errorid == '19') {
                  //invalid email format
                  AlertMessage('Error', 'ایمیل به درستی وارد نشده')
            }
            if (errorid == '26') {
                  //this user exists
                  AlertMessage('Error', 'کاربر وجود دارد')
            }
            if (errorid == '56') {
                  //please login by this email
                  AlertMessage('Error', 'لطفا با ایمیل وارد شوید')
            }
    }
}
 
    function selectUserForForgetPass(e) {
        const vars = mainfunc()
        vars.loginForm.querySelector("input[name='user']").value = e.currentTarget.getAttribute("data-user");
        document.querySelectorAll('input[type="radio"]').forEach(i=>{
        i.classList.remove('active')
        })
        e.currentTarget.classList.add('active')
        console.log(e.currentTarget);
        
    };
    async function onProcessedForgetPasswordFn (args){
        const response = args.response;
        if (response.status == 200) {
        const responseJson = await response.json();
        const captcha = responseJson.Captcha;
        const captchaId = responseJson.Captcha_id;
        const errorid = responseJson.errorid;
        console.log('onProcessedForgetPasswordFn =>', responseJson);
            //   document.querySelector('.login-bold-title').innerHTML = 'فراموشی رمز عبور'
            if (errorid == '3') {
                InvelidToken(responseJson)
            }
            if (errorid == '10') {
                // invalid inputs 
                AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
            }
            if (errorid == '15') {
                // invalid username 
                AlertMessage('Error', 'کاربر نامعتبر است')
            }
            if (errorid == '35') {
                 // username format is mobile
                AlertMessage('Error', 'استفاده از فراموشی رمز عبور فقط برای نام کاربری یا ایمیل امکان پذیر است')
            }
            if (errorid == '36') {
                // ok with multi connection way
                form.setAttribute("name", "form.selectchangepassmethod");
                userid = responseJson.userid;
                $bc.setSource("forgetpassword.userid", userid);
                userName.style.display='none'
                const emailListBox =createInputContainer('emailListBox')
                emailListBox.classList.add("input-title");
                emailListBox.innerText = "نحوه تغییر رمز عبور";
                const inputHidden =createInput('hidden','', 'user')
                form.insertBefore(inputHidden, form.querySelector('.BTN'))
                form.insertBefore(emailListBox, form.querySelector('.BTN'))
                users.forEach((element, index, array) => {
                const emailListLabel = document.createElement("label");
                emailListLabel.classList.add("email-item");
                const emailListRadio = createInput('radio','', 'ismobile')
                emailListRadio.setAttribute("value", `${users[index].ismobile}`);
                if (index == 0) {
                    emailListRadio.setAttribute("required", true);
                    emailListRadio.classList.add('active')
                }
                emailListRadio.addEventListener('click',(e)=>{
                        selectUserForForgetPass(e)
                })
                const emailListSpan = createSpan();
                emailListSpan.classList.add("email-label");
                if (element.ismobile) {
                        emailListRadio.setAttribute("data-user", `${users[index].mobile}`);
                        emailListSpan.innerText = `${users[index].mobile}`;
                    } else {
                        emailListRadio.setAttribute("data-user", `${users[index].email}`);
                        emailListSpan.innerText = `${users[index].email}`;
                    }
                emailListLabel.appendChild(emailListRadio);
                emailListLabel.appendChild(emailListSpan);
                mailsSelectBox.appendChild(emailListLabel)
                })
                }
            if (errorid == '36') {
                // ok with multi connection way
                const users = responseJson.data;
                vars.loginForm.setAttribute("name", "form.selectchangepassmethod");
                userid = responseJson.userid;
                $bc.setSource("forgetpassword.userid", userid);

                const emailListBox = document.createElement("div");
                emailListBox.classList.add("input-title");
                emailListBox.innerText = "نحوه ی تغییر رمز عبور";
                vars.loginForm.lastChild.before(emailListBox);

                const inputHidden = document.createElement("input");
                inputHidden.setAttribute("type", "hidden");
                inputHidden.setAttribute("name", "user");
                vars.loginForm.lastChild.before(inputHidden);

                users.forEach((element, index, array) => {
                    const emailListLabel = document.createElement("label");
                    emailListLabel.classList.add("email-item");

                    const emailListRadio = document.createElement("input");
                    emailListRadio.setAttribute("type", "radio");
                    emailListRadio.setAttribute("name", "ismobile");
                    emailListRadio.setAttribute("value", `${users[index].ismobile}`);
                    if (index == 0) {
                        emailListRadio.setAttribute("required", true);
                        emailListRadio.classList.add('active')
                    }
             
                    emailListRadio.addEventListener('click',(e)=>{
                        selectUserForForgetPass(e)
                    })
                    const emailListSpan = document.createElement("span");
                    emailListSpan.classList.add("email-label");
                    if (element.ismobile) {
                        emailListRadio.setAttribute("data-user", `${users[index].mobile}`);
                        emailListSpan.innerText = `${users[index].mobile}`;
                    } else {
                        emailListRadio.setAttribute("data-user", `${users[index].email}`);
                        emailListSpan.innerText = `${users[index].email}`;
                    }

                    emailListLabel.appendChild(emailListRadio);
                    emailListLabel.appendChild(emailListSpan);

                    vars.loginForm.lastChild.before(emailListLabel);
                });
            } 
            if (errorid == '42') {
                 // The password change link sent to email
                AlertMessage('Success','لینک تغییر رمز عبور از طریق ایمیل ارسال شد')
            }
            if (errorid == '43') {
                // error in sending email
                AlertMessage('Error','خطا در ارسال ایمیل')
            }
    }
    }
    function onRenderedCookie(args) {
        console.log('Cookie',args.response);

    };
    async function onProcessedSelectUserFn(args) {
        const response = args.response;
        if (response.status == 200) {
            const responseJson = await response.json();
            const errorid = responseJson.errorid;

            if (errorid == '10') {
                // invalid inputs 
                AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
            }
            if (errorid == '15') {
                // invalid user 
                AlertMessage('Error', 'کاربر نامعتبر است')
            }
            if (errorid == '2') {
                // Success
                AlertMessage('Success', 'کد احراز هویت از طریق پیامک ارسال شد')
               form.setAttribute("name", "form.login");
               hashid = responseJson.hashid;
               $bc.setSource("authentication.hashid", hashid);
               document.querySelector('.captchabox').style.display='none'
               document.querySelector('.mobileInput').style.display='none'
                let container
                let mobileInputVal
                let inputPassword 
                let createResend
                IsCreatePassword =false
                    if(!IsCreatePassword){
                        let container = createInputContainer('passwordBox')
                        let mobileInputVal = document.querySelector("input[name='UserName']")
                        let inputPassword = createInput('password', `کد ارسال شده برای ${mobileInputVal.value} را وارد کنید`, 'code')
                        container.appendChild(inputPassword)
                        form.insertBefore(container, form.querySelector('.BTN'))  
                        createResend = true 
                        ShowRemaintime(responseJson ,createResend)
                        IsCreatePassword = true
                    }
            }
        } 
    }

    async function onProcessedSelectChangePassMethodFn(params) {
        const response = args.response;
        if (response.status == 200) {
            const responseJson = await response.json();
            const errorid = responseJson.errorid;
            if(errorid){
                if (errorid == '1') {
                  // token expired  
                   AlertMessage('Error', 'توکن نامعتبر است')
                }
                if (errorid == '10') {
                  // invalid inputs 
                  AlertMessage('Error', 'ورودی های ارسال شده نامعتبر است')
                }
                if (errorid == '40') {
                // invalid user
                  AlertMessage('Error', 'ایمیل یا موبایل انتخاب شده متعلق به شما نیست')
                }
                if (errorid == '41') {
                // invalid user
                  AlertMessage('Error', 'لینک تغییر رمز عبور از طریق پیامک ارسال شد')
                }
                if (errorid == '42') {
              // The password change link sent to mobile
                  AlertMessage('Error', 'لینک تغییر رمز عبور از طریق ایمیل ارسال شد')
                }
                if (errorid == '43') {
                 // error in sending email
                  AlertMessage('Error', 'خطا در ارسال ایمیل')
                }
                if (errorid == '44') {
                 // error in sending email
                  AlertMessage('Error', 'خطا در ارسال پیامک')
                }
            }
              
            
        }
    }
  </script>
</body>

</html>